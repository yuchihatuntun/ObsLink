/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var Ft=Object.create;var ye=Object.defineProperty,Gt=Object.defineProperties,zt=Object.getOwnPropertyDescriptor,Ut=Object.getOwnPropertyDescriptors,Yt=Object.getOwnPropertyNames,ct=Object.getOwnPropertySymbols,qt=Object.getPrototypeOf,mt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable;var ht=(t,e,s)=>e in t?ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,le=(t,e)=>{for(var s in e||(e={}))mt.call(e,s)&&ht(t,s,e[s]);if(ct)for(var s of ct(e))Kt.call(e,s)&&ht(t,s,e[s]);return t},Fe=(t,e)=>Gt(t,Ut(e)),gt=t=>ye(t,"__esModule",{value:!0});var Jt=(t,e)=>{gt(t);for(var s in e)ye(t,s,{get:e[s],enumerable:!0})},jt=(t,e,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Yt(e))!mt.call(t,a)&&a!=="default"&&ye(t,a,{get:()=>e[a],enumerable:!(s=zt(e,a))||s.enumerable});return t},W=t=>jt(gt(ye(t!=null?Ft(qt(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var A=(t,e,s)=>new Promise((a,o)=>{var n=c=>{try{m(s.next(c))}catch(l){o(l)}},i=c=>{try{m(s.throw(c))}catch(l){o(l)}},m=c=>c.done?a(c.value):Promise.resolve(c.value).then(n,i);m((s=s.apply(t,e)).next())});Jt(exports,{default:()=>lt});var pe=W(require("obsidian"));var Ge={lightStyle:"minimal-light",darkStyle:"minimal-dark",lightScheme:"minimal-oxygen-light",darkScheme:"minimal-oxygen-dark",editorFont:"",lineHeight:1.5,lineWidth:40,lineWidthWide:50,maxWidth:88,textNormal:16,textSmall:13,imgGrid:!1,imgWidth:"img-default-width",tableWidth:"table-default-width",iframeWidth:"iframe-default-width",mapWidth:"map-default-width",chartWidth:"chart-default-width",colorfulHeadings:!1,colorfulFrame:!1,colorfulActiveStates:!1,trimNames:!0,labeledNav:!1,fullWidthMedia:!0,hideTitleBarOnHover:!0,workspaceBorders:"enhanced",minimalStatus:!0,focusMode:!1,underlineInternal:!0,underlineExternal:!0,folding:!0,lineNumbers:!1,readableLineLength:!1,devBlockWidth:!1,customPresets:[],enableCustomPresets:!0,navIndentationGuideWidth:"0px",navIndentationGuideColor:"rgba(var(--mono-rgb-100), 0.12)",hideTabs:!1,hideStatus:!1,hideScroll:!1,hideSidebarButtons:!1,hideLeftSidebarButton:!1,hideRightSidebarButton:!1,hideTooltips:!1,hideFileNavButtons:!1,hideSearchSuggestions:!1,hideSearchCounts:!1,hideInstructions:!1,hidePropertiesReading:!1,hideVault:!1,hidePropertiesHeading:!1,hideAddPropertyButton:!1,deemphasizeProperties:!1,autoHideVaultSwitcher:!1,autoHideVaultSwitcherBgTransparency:.9,hideHelpButton:!1,autoHideSettingsButton:!1,collapseFileExplorerButtons:!1,autoHideFileExplorerNavHeader:!1,autoHideOtherNavHeaders:!1,autoHideLeftTabHeaders:!1,autoHideRightTabHeaders:!1,collapseOtherNavHeaders:!1,autoCollapseRibbon:!1,autoHideTabBarWhenSingleTab:!1,hideButtonNewNote:!1,hideButtonNewFolder:!1,hideButtonSortOrder:!1,hideButtonAutoReveal:!1,hideButtonCollapseAll:!1,hideButtonReadingMode:!1,hideButtonSearchSettings:!1,hideTabListIcon:!1,hideNewTabIcon:!1,hideTabCloseButton:!1,hideIconMobileChevrons:!1,hideButtonMobileNavbarActionBack:!1,hideButtonMobileNavbarActionForward:!1,hideButtonMobileNavbarActionQuickSwitcher:!1,hideButtonMobileNavbarActionNewTab:!1,hideButtonMobileNavbarActionTabs:!1,hideButtonMobileNavbarActionMenu:!1,swapMobileNewTabIcon:!1,orderNavbarButton1:"order-navbar-button-nth-child-1-1",orderNavbarButton2:"order-navbar-button-nth-child-2-2",orderNavbarButton3:"order-navbar-button-nth-child-3-3",orderNavbarButton4:"order-navbar-button-nth-child-4-4",orderNavbarButton5:"order-navbar-button-nth-child-5-5",orderNavbarButton6:"order-navbar-button-nth-child-6-6",animationPersonality:"default",animationSpeed:1,helpButtonReplacement:{enabled:!1,commandId:"oxygen-settings:open-settings",iconId:"settings-2"}};var Dt=W(require("obsidian"));var Ce=W(require("obsidian"));function ut(t,e){let a=t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"});a.createEl("div",{text:"Color scheme",cls:"setting-item-name"});let o=a.createEl("div",{cls:"setting-item-description"});o.appendChild(createEl("span",{text:"To create a custom color scheme use the "})),o.appendChild(createEl("a",{text:"Style Settings",href:"obsidian://show-plugin?id=obsidian-style-settings"})),o.appendText(" plugin. See "),o.appendChild(createEl("a",{text:"Documentation",href:"https://minimal.guide/features/color-schemes"})),o.appendText(" for details."),new Ce.Setting(t).setName("Light mode color scheme").setDesc("Preset color options for light mode.").addDropdown(n=>{n.addOption("minimal-oxygen-light","Oxygen").addOption("minimal-minimal-light","Minimal").addOption("minimal-atom-light","Atom").addOption("minimal-ayu-light","Ayu").addOption("minimal-catppuccin-light","Catppuccin").addOption("minimal-eink-light","E-ink (beta)").addOption("minimal-everforest-light","Everforest").addOption("minimal-flexoki-light","Flexoki").addOption("minimal-gruvbox-light","Gruvbox").addOption("minimal-macos-light","macOS").addOption("minimal-nord-light","Nord").addOption("minimal-rose-pine-light","Ros\xE9 Pine").addOption("minimal-notion-light","Sky").addOption("minimal-solarized-light","Solarized").addOption("minimal-things-light","Things"),e.settings.enableCustomPresets&&e.settings.customPresets.length>0&&(n.addOption("","\u2500\u2500\u2500\u2500\u2500\u2500 Custom presets \u2500\u2500\u2500\u2500\u2500\u2500"),e.settings.customPresets.sort((i,m)=>i.name.localeCompare(m.name)).forEach(i=>{n.addOption(`minimal-custom-${i.id}`,i.name)})),n.setValue(e.settings.lightScheme).onChange(i=>{e.settings.lightScheme=i,e.saveData(e.settings),e.updateStyle(),e.updateCustomPresetCSS()})}),new Ce.Setting(t).setName("Light mode background contrast").setDesc("Level of contrast between sidebar and main content.").addDropdown(n=>n.addOption("minimal-light","Default").addOption("minimal-light-white","All white").addOption("minimal-light-tonal","Low contrast").addOption("minimal-light-contrast","High contrast").setValue(e.settings.lightStyle).onChange(i=>{e.settings.lightStyle=i,e.saveData(e.settings),document.body.classList.contains("theme-light")&&e.updateLightStyle()})),new Ce.Setting(t).setName("Dark mode color scheme").setDesc("Preset colors options for dark mode.").addDropdown(n=>{n.addOption("minimal-oxygen-dark","Oxygen").addOption("minimal-minimal-dark","Minimal").addOption("minimal-atom-dark","Atom").addOption("minimal-ayu-dark","Ayu").addOption("minimal-catppuccin-dark","Catppuccin").addOption("minimal-dracula-dark","Dracula").addOption("minimal-eink-dark","E-ink (beta)").addOption("minimal-everforest-dark","Everforest").addOption("minimal-flexoki-dark","Flexoki").addOption("minimal-gruvbox-dark","Gruvbox").addOption("minimal-macos-dark","macOS").addOption("minimal-nord-dark","Nord").addOption("minimal-rose-pine-dark","Ros\xE9 Pine").addOption("minimal-notion-dark","Sky").addOption("minimal-solarized-dark","Solarized").addOption("minimal-things-dark","Things"),e.settings.enableCustomPresets&&e.settings.customPresets.length>0&&(n.addOption("","\u2500\u2500\u2500\u2500\u2500\u2500 Custom presets \u2500\u2500\u2500\u2500\u2500\u2500"),e.settings.customPresets.sort((i,m)=>i.name.localeCompare(m.name)).forEach(i=>{n.addOption(`minimal-custom-${i.id}`,i.name)})),n.setValue(e.settings.darkScheme).onChange(i=>{e.settings.darkScheme=i,e.saveData(e.settings),e.updateStyle(),e.updateCustomPresetCSS()})}),new Ce.Setting(t).setName("Dark mode background contrast").setDesc("Level of contrast between sidebar and main content.").addDropdown(n=>n.addOption("minimal-dark","Default").addOption("minimal-dark-tonal","Low contrast").addOption("minimal-dark-black","True black").setValue(e.settings.darkStyle).onChange(i=>{e.settings.darkStyle=i,e.saveData(e.settings),document.body.classList.contains("theme-dark")&&e.updateDarkStyle()}))}var F=W(require("obsidian"));function bt(t,e){t.createEl("br");let a=t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"});a.createEl("div",{text:"Features",cls:"setting-item-name"});let o=a.createEl("div",{cls:"setting-item-description"});o.appendChild(createEl("span",{text:"See "})),o.appendChild(createEl("a",{text:"Documentation",href:"https://minimal.guide"})),o.appendText(" for details."),new F.Setting(t).setName("Text labels for primary navigation").setDesc("Navigation items in the left sidebar uses text labels.").addToggle(n=>n.setValue(e.settings.labeledNav).onChange(i=>{e.settings.labeledNav=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Colorful window frame").setDesc("The top area of the app uses your accent color.").addToggle(n=>n.setValue(e.settings.colorfulFrame).onChange(i=>{e.settings.colorfulFrame=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Colorful active states").setDesc("Active file and menu items use your accent color.").addToggle(n=>n.setValue(e.settings.colorfulActiveStates).onChange(i=>{e.settings.colorfulActiveStates=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Colorful headings").setDesc("Headings use a different color for each size.").addToggle(n=>n.setValue(e.settings.colorfulHeadings).onChange(i=>{e.settings.colorfulHeadings=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Minimal status bar").setDesc("Turn off to use full-width status bar.").addToggle(n=>n.setValue(e.settings.minimalStatus).onChange(i=>{e.settings.minimalStatus=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Trim file names in sidebars").setDesc("Use ellipses to fit file names on a single line.").addToggle(n=>n.setValue(e.settings.trimNames).onChange(i=>{e.settings.trimNames=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Borders").setDesc("Border style for workspace elements.").addDropdown(n=>n.addOption("enhanced","Enhanced").addOption("default","Default").addOption("none","None").setValue(e.settings.workspaceBorders).onChange(i=>{e.settings.workspaceBorders=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Indentation guides thickness").setDesc("Thickness of indentation guides in the sidebar file explorer.").addDropdown(n=>n.addOption("0px","None").addOption("1px","Thin").addOption("2px","Medium").addOption("3px","Thick").setValue(e.settings.navIndentationGuideWidth).onChange(i=>{e.settings.navIndentationGuideWidth=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Indentation guides color").setDesc("Color of indentation guides in the sidebar.").addDropdown(n=>n.addOption("rgba(var(--mono-rgb-100), 0.12)","Subtle").addOption("var(--text-faint)","Strong").addOption("var(--color-accent)","Accent color").setValue(e.settings.navIndentationGuideColor).onChange(i=>{e.settings.navIndentationGuideColor=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Underline internal links").setDesc("Show underlines on internal links.").addToggle(n=>n.setValue(e.settings.underlineInternal).onChange(i=>{e.settings.underlineInternal=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Underline external links").setDesc("Show underlines on external links.").addToggle(n=>n.setValue(e.settings.underlineExternal).onChange(i=>{e.settings.underlineExternal=i,e.saveData(e.settings),e.refresh()})),new F.Setting(t).setName("Maximize media").setDesc("Images and videos fill the width of the line.").addToggle(n=>n.setValue(e.settings.fullWidthMedia).onChange(i=>{e.settings.fullWidthMedia=i,e.saveData(e.settings),e.refresh()}))}var u=W(require("obsidian"));var ft=W(require("obsidian")),ze=class extends ft.FuzzySuggestModal{constructor(e,s){super(e);this.onSelect=s}getItems(){let e=this.app.commands,s=new Map;if(e&&typeof e.listCommands=="function")try{let o=e.listCommands();for(let n of o)n&&n.id&&n.name&&!s.has(n.id)&&s.set(n.id,{id:n.id,name:n.name})}catch(o){console.warn("[Oxygen Settings] Error getting commands via listCommands():",o)}try{let o=e==null?void 0:e.commands;if(o&&typeof o=="object"){let n=Object.values(o);for(let i of n)i&&i.id&&i.name&&!s.has(i.id)&&s.set(i.id,{id:i.id,name:i.name})}}catch(o){console.warn("[Oxygen Settings] Error getting commands via registry:",o)}try{let o=e==null?void 0:e.commandRegistry;if(o&&typeof o=="object"){let n=Object.values(o);for(let i of n)i&&i.id&&i.name&&!s.has(i.id)&&s.set(i.id,{id:i.id,name:i.name})}}catch(o){console.warn("[Oxygen Settings] Error getting commands via internal registry:",o)}let a=Array.from(s.values());return a.sort((o,n)=>o.name.localeCompare(n.name)),a}getItemText(e){return e.name}onChooseItem(e,s){this.onSelect(e.id)}renderSuggestion(e,s){let a=e.item;s.createDiv({cls:"suggestion-title",text:a.name})}};var Y=W(require("obsidian")),Qt=()=>{if(Y.requireApiVersion&&(0,Y.requireApiVersion)("1.7.3")&&Y.getIconIds)try{return(0,Y.getIconIds)()}catch(t){console.warn("[Oxygen Settings] Error getting icon IDs from Obsidian:",t)}return["settings-2","settings","help-circle","info","star","heart","bookmark","home","search","bell","mail","user","users","folder","file","file-text","image","video","music","calendar","clock","edit","pencil","trash","copy","cut","paste","download","upload","save","share","link","external-link","lock","unlock","eye","eye-off","key","shield","check","x","plus","minus","arrow-left","arrow-right","arrow-up","arrow-down","chevron-left","chevron-right","chevron-up","chevron-down","menu","more-horizontal","more-vertical","grid","list","layout","columns","rows","maximize","minimize","zoom-in","zoom-out","refresh-cw","play","pause","stop","sun","moon","cloud","zap","wand-2","wand","wand-sparkles","palette","brush","sliders","power","wifi","bluetooth","monitor","laptop","smartphone","camera","mic","headphones","code","terminal","terminal-square","github","gitlab","git-branch","git-commit","database","server","cloud-download","cloud-upload","tag","tags","flag","pin","map-pin","compass","globe","rocket","car","bike","robot","apple","windows","linux","chrome","firefox","safari","credit-card","wallet","coins","book","book-open","award","trophy","badge","wrench","tool","package","box","archive","send","reply","forward","mail-open","tag-plus","tag-minus","flag-off","pin-off","map-pin-off","navigation","map","earth","plane","ship","anchor","helicopter","drone","android","keyhole","keys","fingerprint","scan","qr-code","barcode","receipt","piggy-bank","banknote"]},Xt=Qt().map(t=>({id:t,name:t.replace(/^lucide-/,"").replace(/-/g," ").replace(/(^\w{1})|(\s+\w{1})/g,e=>e.toUpperCase())})).sort((t,e)=>t.name.localeCompare(e.name)),Ue=class extends Y.FuzzySuggestModal{constructor(e,s){super(e);this.onSelect=s}getItems(){return Xt}getItemText(e){return e.name}onChooseItem(e,s){this.onSelect(e.id)}renderSuggestion(e,s){let a=e.item;s.addClass("mod-complex"),s.createDiv({cls:"suggestion-content"}).createDiv({cls:"suggestion-title",text:a.name});let n=s.createDiv({cls:"suggestion-aux"});(0,Y.setIcon)(n.createSpan({cls:"suggestion-flair"}),a.id)}};function pt(t,e){var b;if(t.createEl("br"),t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"}).createEl("div",{text:"Hider",cls:"setting-item-name"}),new u.Setting(t).setName("Focus mode").setDesc("Hide tab bar and status bar, hover to display. Can be toggled via hotkey.").addToggle(d=>d.setValue(e.settings.focusMode).onChange(r=>{e.settings.focusMode=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new u.Setting(t).setName("Auto-hide title bar").setDesc("Hide title bar until hover. Turn off to always show.").addToggle(d=>d.setValue(e.settings.hideTitleBarOnHover).onChange(r=>{e.settings.hideTitleBarOnHover=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Auto-hide file explorer nav header").setDesc("Hide file explorer navigation header until hover. Elegantly reveals on hover.").addToggle(d=>d.setValue(e.settings.autoHideFileExplorerNavHeader).onChange(r=>{e.settings.autoHideFileExplorerNavHeader=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Auto-hide other nav headers").setDesc("Hide navigation headers for tag, backlinks, outgoing links, outline, and bookmarks panes until hover.").addToggle(d=>d.setValue(e.settings.autoHideOtherNavHeaders).onChange(r=>{e.settings.autoHideOtherNavHeaders=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Auto-hide left tab headers").setDesc("Hide left panel tab headers until hover. Elegantly reveals on hover.").addToggle(d=>d.setValue(e.settings.autoHideLeftTabHeaders).onChange(r=>{e.settings.autoHideLeftTabHeaders=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Auto-hide right tab headers").setDesc("Hide right panel tab headers until hover. Elegantly reveals on hover.").addToggle(d=>d.setValue(e.settings.autoHideRightTabHeaders).onChange(r=>{e.settings.autoHideRightTabHeaders=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Auto-collapse ribbon").setDesc("Collapse the left ribbon to a thin strip until hover. Elegantly expands on hover.").addToggle(d=>d.setValue(e.settings.autoCollapseRibbon).onChange(r=>{e.settings.autoCollapseRibbon=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Auto-hide vault switcher").setDesc('Hide vault switcher until hover. Does not work when "Hide vault name" is enabled.').addToggle(d=>d.setValue(e.settings.autoHideVaultSwitcher).onChange(r=>{e.settings.autoHideVaultSwitcher=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Vault switcher background transparency").setDesc("Adjust the transparency of the vault switcher background when hidden. Range: 0 (fully transparent) to 1 (fully opaque).").addSlider(d=>d.setLimits(0,1,.1).setValue(e.settings.autoHideVaultSwitcherBgTransparency).setDynamicTooltip().onChange(r=>{e.settings.autoHideVaultSwitcherBgTransparency=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Auto-hide settings button").setDesc("Hide settings button until hover. Elegantly reveals on hover.").addToggle(d=>d.setValue(e.settings.autoHideSettingsButton).onChange(r=>{e.settings.autoHideSettingsButton=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Auto-hide tab bar when single tab").setDesc("Hide the tab bar automatically when only 1 tab is open. Inspired by Meridian Theme.").addToggle(d=>d.setValue(e.settings.autoHideTabBarWhenSingleTab).onChange(r=>{e.settings.autoHideTabBarWhenSingleTab=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new u.Setting(t).setName("Hide help button").setDesc("Hides the help button in the vault profile area.").addToggle(d=>d.setValue(e.settings.hideHelpButton).onChange(r=>{var T;e.settings.hideHelpButton=r,e.saveData(e.settings),e.refresh(),e.updateHelpButtonCSS&&e.updateHelpButtonCSS(),((T=e.settings.helpButtonReplacement)==null?void 0:T.enabled)&&e.updateHelpButton&&e.updateHelpButton()})),e.settings.helpButtonReplacement||(e.settings.helpButtonReplacement={enabled:!1,commandId:"oxygen-settings:open-settings",iconId:"settings-2"}),new u.Setting(t).setName("Replace help button with custom action").setDesc("Replace the help button with a custom icon and command. This will hide the original help button and show your custom button instead.").addToggle(d=>{var r,T;return d.setValue((T=(r=e.settings.helpButtonReplacement)==null?void 0:r.enabled)!=null?T:!1).onChange(C=>A(this,null,function*(){e.settings.helpButtonReplacement||(e.settings.helpButtonReplacement={enabled:!0,commandId:"oxygen-settings:open-settings",iconId:"settings-2"}),e.settings.helpButtonReplacement.enabled=C,yield e.saveData(e.settings),e.updateHelpButton&&(yield e.updateHelpButton()),e.settingsTab&&e.settingsTab.display()}))}),(b=e.settings.helpButtonReplacement)==null?void 0:b.enabled){let r=(E=>{try{let x=e.app.commands;if(x&&x.listCommands){let I=x.listCommands().find(y=>y.id===E);return(I==null?void 0:I.name)||E}}catch(x){console.warn("[Oxygen Settings] Error getting command name:",x)}return E})(e.settings.helpButtonReplacement.commandId);new u.Setting(t).setName("Command").setDesc("Select the command to execute when the button is clicked").addButton(E=>E.setButtonText(r||"Select command...").onClick(()=>{new ze(e.app,$=>A(this,null,function*(){e.settings.helpButtonReplacement||(e.settings.helpButtonReplacement={enabled:!0,commandId:"",iconId:"wrench"}),e.settings.helpButtonReplacement.commandId=$,yield e.saveData(e.settings),e.updateHelpButton&&(yield e.updateHelpButton()),e.settingsTab&&e.settingsTab.display()})).open()}));let C=(E=>E?E.replace(/^lucide-/,"").split("-").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" "):"")(e.settings.helpButtonReplacement.iconId);new u.Setting(t).setName("Icon").setDesc("Select the icon to display on the button").addButton(E=>E.setButtonText(C||"Select icon...").onClick(()=>{new Ue(e.app,$=>A(this,null,function*(){e.settings.helpButtonReplacement||(e.settings.helpButtonReplacement={enabled:!0,commandId:"",iconId:"wrench"}),e.settings.helpButtonReplacement.iconId=$,yield e.saveData(e.settings),e.updateHelpButton&&(yield e.updateHelpButton()),e.settingsTab&&e.settingsTab.display()})).open()}))}new u.Setting(t).setName("Hide vault name").setDesc("Hides your vault profile. Warning: this also hides access to the Settings and vault switcher icons. You can use hotkeys or the command palette to open them.").addToggle(d=>d.setValue(e.settings.hideVault).onChange(r=>{e.settings.hideVault=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new u.Setting(t).setName("Hide tab bar").setDesc("Hides the tab container at the top of the window.").addToggle(d=>d.setValue(e.settings.hideTabs).onChange(r=>{e.settings.hideTabs=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide file explorer buttons").setDesc("Hides buttons at the top of file explorer (new file, new folder, etc).").addToggle(d=>d.setValue(e.settings.hideFileNavButtons).onChange(r=>{e.settings.hideFileNavButtons=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide tab list icon").setDesc("Hides the tab list icon. You can still access tabs via other methods.").addToggle(d=>d.setValue(e.settings.hideTabListIcon).onChange(r=>{e.settings.hideTabListIcon=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide new tab icon").setDesc("Hides the new tab icon. You can still create new tabs with Ctrl+T (Cmd+T on Mac).").addToggle(d=>d.setValue(e.settings.hideNewTabIcon).onChange(r=>{e.settings.hideNewTabIcon=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide tab close button").setDesc("Hides the close button on tabs. You can still close tabs with middle click or other methods.").addToggle(d=>d.setValue(e.settings.hideTabCloseButton).onChange(r=>{e.settings.hideTabCloseButton=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new u.Setting(t).setName("Hide status bar").setDesc("Hides word count, character count and backlink count.").addToggle(d=>d.setValue(e.settings.hideStatus).onChange(r=>{e.settings.hideStatus=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide scroll bars").setDesc("Hides all scroll bars.").addToggle(d=>d.setValue(e.settings.hideScroll).onChange(r=>{e.settings.hideScroll=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide left sidebar toggle button").setDesc("Hides the left sidebar toggle button.").addToggle(d=>d.setValue(e.settings.hideLeftSidebarButton).onChange(r=>{e.settings.hideLeftSidebarButton=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide right sidebar toggle button").setDesc("Hides the right sidebar toggle button.").addToggle(d=>d.setValue(e.settings.hideRightSidebarButton).onChange(r=>{e.settings.hideRightSidebarButton=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide tooltips").setDesc("Hides all tooltips.").addToggle(d=>d.setValue(e.settings.hideTooltips).onChange(r=>{e.settings.hideTooltips=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new u.Setting(t).setName("Hide search suggestions").setDesc("Hides suggestions in search pane.").addToggle(d=>d.setValue(e.settings.hideSearchSuggestions).onChange(r=>{e.settings.hideSearchSuggestions=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide count of search term matches").setDesc("Hides the number of matches within each search result.").addToggle(d=>d.setValue(e.settings.hideSearchCounts).onChange(r=>{e.settings.hideSearchCounts=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new u.Setting(t).setName("Hide properties in Reading view").setDesc("Hides the properties section in Reading view.").addToggle(d=>d.setValue(e.settings.hidePropertiesReading).onChange(r=>{e.settings.hidePropertiesReading=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Hide properties heading").setDesc('Hide "Properties" heading above properties.').addToggle(d=>d.setValue(e.settings.hidePropertiesHeading).onChange(r=>{e.settings.hidePropertiesHeading=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Add property" button').setDesc('Hide "Add property" button below properties.').addToggle(d=>d.setValue(e.settings.hideAddPropertyButton).onChange(r=>{e.settings.hideAddPropertyButton=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName("Deemphasize properties").setDesc("Softens visual prominence of file properties. They become more visible on hover.").addToggle(d=>d.setValue(e.settings.deemphasizeProperties).onChange(r=>{e.settings.deemphasizeProperties=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new u.Setting(t).setName("Hide instructions").setDesc("Hides instructional tips in modals.").addToggle(d=>d.setValue(e.settings.hideInstructions).onChange(r=>{e.settings.hideInstructions=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"}).createEl("div",{text:"Desktop hide buttons",cls:"setting-item-name"}),new u.Setting(t).setName('Hide "New note" button').setDesc('Hide "New note" button in navigation headers.').addToggle(d=>d.setValue(e.settings.hideButtonNewNote).onChange(r=>{e.settings.hideButtonNewNote=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "New folder" button').setDesc('Hide "New folder" button in navigation headers.').addToggle(d=>d.setValue(e.settings.hideButtonNewFolder).onChange(r=>{e.settings.hideButtonNewFolder=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Sort order" button').setDesc('Hide "Sort order" button in navigation headers.').addToggle(d=>d.setValue(e.settings.hideButtonSortOrder).onChange(r=>{e.settings.hideButtonSortOrder=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Auto-reveal" button').setDesc('Hide "Auto-reveal" button in navigation headers.').addToggle(d=>d.setValue(e.settings.hideButtonAutoReveal).onChange(r=>{e.settings.hideButtonAutoReveal=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Collapse all" button').setDesc('Hide "Collapse all" button in navigation headers.').addToggle(d=>d.setValue(e.settings.hideButtonCollapseAll).onChange(r=>{e.settings.hideButtonCollapseAll=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Reading mode" button').setDesc('Hide "Reading mode" button in view headers.').addToggle(d=>d.setValue(e.settings.hideButtonReadingMode).onChange(r=>{e.settings.hideButtonReadingMode=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Search settings" button').setDesc('Hide "Search settings" button in search pane.').addToggle(d=>d.setValue(e.settings.hideButtonSearchSettings).onChange(r=>{e.settings.hideButtonSearchSettings=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"}).createEl("div",{text:"Mobile devices",cls:"setting-item-name"}),t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"}).createEl("div",{text:"Hide icons",cls:"setting-item-name"}),new u.Setting(t).setName('Hide "Mobile chevrons" icon').setDesc('Hide "Mobile chevrons" icon in mobile navbar.').addToggle(d=>d.setValue(e.settings.hideIconMobileChevrons).onChange(r=>{e.settings.hideIconMobileChevrons=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"}).createEl("div",{text:"Hide buttons",cls:"setting-item-name"}),new u.Setting(t).setName('Hide "Navigate back" button').setDesc('Hide "Navigate back" button in mobile navbar.').addToggle(d=>d.setValue(e.settings.hideButtonMobileNavbarActionBack).onChange(r=>{e.settings.hideButtonMobileNavbarActionBack=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Navigate forward" button').setDesc('Hide "Navigate forward" button in mobile navbar.').addToggle(d=>d.setValue(e.settings.hideButtonMobileNavbarActionForward).onChange(r=>{e.settings.hideButtonMobileNavbarActionForward=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Quick switcher" button').setDesc('Hide "Quick switcher" button in mobile navbar.').addToggle(d=>d.setValue(e.settings.hideButtonMobileNavbarActionQuickSwitcher).onChange(r=>{e.settings.hideButtonMobileNavbarActionQuickSwitcher=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "New tab" button').setDesc('Hide "New tab" button in mobile navbar.').addToggle(d=>d.setValue(e.settings.hideButtonMobileNavbarActionNewTab).onChange(r=>{e.settings.hideButtonMobileNavbarActionNewTab=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Open tabs" button').setDesc('Hide "Open tabs" button in mobile navbar.').addToggle(d=>d.setValue(e.settings.hideButtonMobileNavbarActionTabs).onChange(r=>{e.settings.hideButtonMobileNavbarActionTabs=r,e.saveData(e.settings),e.refresh()})),new u.Setting(t).setName('Hide "Ribbon menu" button').setDesc('Hide "Ribbon menu" button in mobile navbar.').addToggle(d=>d.setValue(e.settings.hideButtonMobileNavbarActionMenu).onChange(r=>{e.settings.hideButtonMobileNavbarActionMenu=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),new u.Setting(t).setName("Swap mobile new tab icon").setDesc("Replace the new tab plus icon with a home button icon in mobile navbar.").addToggle(d=>d.setValue(e.settings.swapMobileNewTabIcon).onChange(r=>{e.settings.swapMobileNewTabIcon=r,e.saveData(e.settings),e.refresh()})),t.createEl("br"),t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"}).createEl("div",{text:"Mobile navigation menu",cls:"setting-item-name"}),new u.Setting(t).setName('"Navigate back" button position').setDesc('Select the position for the "Navigate back" button (default 1).').addDropdown(d=>{for(let r=1;r<=6;r++)d.addOption(`order-navbar-button-nth-child-1-${r}`,String(r));d.setValue(e.settings.orderNavbarButton1),d.onChange(r=>{e.settings.orderNavbarButton1=r,e.saveData(e.settings),e.refresh()})}),new u.Setting(t).setName('"Navigate forward" button position').setDesc('Select the position for the "Navigate forward" button (default 2).').addDropdown(d=>{for(let r=1;r<=6;r++)d.addOption(`order-navbar-button-nth-child-2-${r}`,String(r));d.setValue(e.settings.orderNavbarButton2),d.onChange(r=>{e.settings.orderNavbarButton2=r,e.saveData(e.settings),e.refresh()})}),new u.Setting(t).setName('"Quick switcher" button position').setDesc('Select the position for the "Quick switcher" button (default 3).').addDropdown(d=>{for(let r=1;r<=6;r++)d.addOption(`order-navbar-button-nth-child-3-${r}`,String(r));d.setValue(e.settings.orderNavbarButton3),d.onChange(r=>{e.settings.orderNavbarButton3=r,e.saveData(e.settings),e.refresh()})}),new u.Setting(t).setName('"New tab" button position').setDesc('Select the position for the "New tab" button (default 4).').addDropdown(d=>{for(let r=1;r<=6;r++)d.addOption(`order-navbar-button-nth-child-4-${r}`,String(r));d.setValue(e.settings.orderNavbarButton4),d.onChange(r=>{e.settings.orderNavbarButton4=r,e.saveData(e.settings),e.refresh()})}),new u.Setting(t).setName('"Open tabs" button position').setDesc('Select the position for the "Open tabs" button (default 5).').addDropdown(d=>{for(let r=1;r<=6;r++)d.addOption(`order-navbar-button-nth-child-5-${r}`,String(r));d.setValue(e.settings.orderNavbarButton5),d.onChange(r=>{e.settings.orderNavbarButton5=r,e.saveData(e.settings),e.refresh()})}),new u.Setting(t).setName('"Ribbon menu" button position').setDesc('Select the position for the "Ribbon menu" button (default 6).').addDropdown(d=>{for(let r=1;r<=6;r++)d.addOption(`order-navbar-button-nth-child-6-${r}`,String(r));d.setValue(e.settings.orderNavbarButton6),d.onChange(r=>{e.settings.orderNavbarButton6=r,e.saveData(e.settings),e.refresh()})})}var ce=W(require("obsidian"));function vt(t,e){t.createEl("br");let a=t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"});a.createEl("div",{text:"Layout",cls:"setting-item-name"});let o=a.createEl("div",{cls:"setting-item-description"});o.appendChild(createEl("span",{text:"These options can also be defined on a per-file basis, see "})),o.appendChild(createEl("a",{text:"Documentation",href:"https://minimal.guide/features/block-width"})),o.appendText(" for details."),new ce.Setting(t).setName("Image grids").setDesc("Turn consecutive images into columns \u2014 to make a new row, add an extra line break between images.").addToggle(n=>n.setValue(e.settings.imgGrid).onChange(i=>{e.settings.imgGrid=i,e.saveData(e.settings),e.refresh()})),new ce.Setting(t).setName("Chart width").setDesc("Default width for chart blocks.").addDropdown(n=>n.addOption("chart-default-width","Default").addOption("chart-wide","Wide line width").addOption("chart-max","Maximum line width").addOption("chart-100","100% pane width").setValue(e.settings.chartWidth).onChange(i=>{e.settings.chartWidth=i,e.saveData(e.settings),e.refresh()})),new ce.Setting(t).setName("Iframe width").setDesc("Default width for iframe blocks.").addDropdown(n=>n.addOption("iframe-default-width","Default").addOption("iframe-wide","Wide line width").addOption("iframe-max","Maximum line width").addOption("iframe-100","100% pane width").setValue(e.settings.iframeWidth).onChange(i=>{e.settings.iframeWidth=i,e.saveData(e.settings),e.refresh()})),new ce.Setting(t).setName("Image width").setDesc("Default width for image blocks.").addDropdown(n=>n.addOption("img-default-width","Default").addOption("img-wide","Wide line width").addOption("img-max","Maximum line width").addOption("img-100","100% pane width").setValue(e.settings.imgWidth).onChange(i=>{e.settings.imgWidth=i,e.saveData(e.settings),e.refresh()})),new ce.Setting(t).setName("Map width").setDesc("Default width for map blocks.").addDropdown(n=>n.addOption("map-default-width","Default").addOption("map-wide","Wide line width").addOption("map-max","Maximum line width").addOption("map-100","100% pane width").setValue(e.settings.mapWidth).onChange(i=>{e.settings.mapWidth=i,e.saveData(e.settings),e.refresh()})),new ce.Setting(t).setName("Table width").setDesc("Default width for table and Dataview blocks.").addDropdown(n=>n.addOption("table-default-width","Default").addOption("table-wide","Wide line width").addOption("table-max","Maximum line width").addOption("table-100","100% pane width").setValue(e.settings.tableWidth).onChange(i=>{e.settings.tableWidth=i,e.saveData(e.settings),e.refresh()}))}var ae=W(require("obsidian"));function St(t,e){t.createEl("br"),t.createEl("div",{text:"Typography",cls:"setting-item setting-item-heading"}),new ae.Setting(t).setName("Text font size").setDesc("Used for the main text (default 16).").addText(s=>s.setPlaceholder("16").setValue((e.settings.textNormal||"")+"").onChange(a=>{e.settings.textNormal=parseFloat(a),e.saveData(e.settings),e.setFontSize()})),new ae.Setting(t).setName("Small font size").setDesc("Used for text in the sidebars and tabs (default 13).").addText(s=>s.setPlaceholder("13").setValue((e.settings.textSmall||"")+"").onChange(a=>{e.settings.textSmall=parseFloat(a),e.saveData(e.settings),e.refresh()})),new ae.Setting(t).setName("Line height").setDesc("Line height of text (default 1.5).").addText(s=>s.setPlaceholder("1.5").setValue((e.settings.lineHeight||"")+"").onChange(a=>{e.settings.lineHeight=parseFloat(a),e.saveData(e.settings),e.refresh()})),new ae.Setting(t).setName("Normal line width").setDesc("Number of characters per line (default 40).").addText(s=>s.setPlaceholder("40").setValue((e.settings.lineWidth||"")+"").onChange(a=>{e.settings.lineWidth=parseInt(a.trim()),e.saveData(e.settings),e.refresh()})),new ae.Setting(t).setName("Wide line width").setDesc("Number of characters per line for wide elements (default 50).").addText(s=>s.setPlaceholder("50").setValue((e.settings.lineWidthWide||"")+"").onChange(a=>{e.settings.lineWidthWide=parseInt(a.trim()),e.saveData(e.settings),e.refresh()})),new ae.Setting(t).setName("Maximum line width %").setDesc("Percentage of space inside a pane that a line can fill (default 88).").addText(s=>s.setPlaceholder("88").setValue((e.settings.maxWidth||"")+"").onChange(a=>{e.settings.maxWidth=parseInt(a.trim()),e.saveData(e.settings),e.refresh()})),new ae.Setting(t).setName("Editor font").setDesc("Overrides the text font defined in Obsidian appearance settings when in edit mode.").addText(s=>s.setPlaceholder("").setValue((e.settings.editorFont||"")+"").onChange(a=>{e.settings.editorFont=a,e.saveData(e.settings),e.refresh()}))}var Te=W(require("obsidian"));function me(t,e){for(let[s,a]of Object.entries(e))t.style.setProperty(s,a)}function N(t,e,s){t.style.setProperty(e,s)}function yt(t){t=t.replace("#","");let e=parseInt(t.substring(0,2),16)/255,s=parseInt(t.substring(2,4),16)/255,a=parseInt(t.substring(4,6),16)/255,o=Math.max(e,s,a),n=Math.min(e,s,a),i=0,m=0,c=(o+n)/2;if(o!==n){let l=o-n;switch(m=c>.5?l/(2-o-n):l/(o+n),o){case e:i=(s-a)/l+(s<a?6:0);break;case s:i=(a-e)/l+2;break;case a:i=(e-s)/l+4;break}i/=6}return{h:Math.round(i*360),s:Math.round(m*100),l:Math.round(c*100)}}function S(t){let e=t.h/360,s=t.s/100,a=t.l/100,o=(l,g,h)=>(h<0&&(h+=1),h>1&&(h-=1),h<1/6?l+(g-l)*6*h:h<1/2?g:h<2/3?l+(g-l)*(2/3-h)*6:l),n,i,m;if(s===0)n=i=m=a;else{let l=a<.5?a*(1+s):a+s-a*s,g=2*a-l;n=o(g,l,e+1/3),i=o(g,l,e),m=o(g,l,e-1/3)}let c=l=>{let g=Math.round(l*255).toString(16);return g.length===1?"0"+g:g};return`#${c(n)}${c(i)}${c(m)}`}function Ye(t){return/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}|[A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/.test(t)}function Ct(t){let e=document.createElement("div");e.className="custom-preset-swatch";let s=S(t.light.base),a=S(t.light.accent),o=S(t.dark.base);return me(e,{"--swatch-gradient-start":s,"--swatch-gradient-mid":a,"--swatch-gradient-end":o}),e}function qe(t){return t.trim().replace(/[<>:"/\\|?*]/g,"")}function Ke(t){return qe(t).toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").substring(0,50)}function wt(t){return/^[a-z0-9-]+$/.test(t)&&t.length>0&&t.length<=50}function xt(t,e,s){return!e.some(a=>a.id===t&&a.id!==s)}var X=class{static validatePresetId(e,s,a){return wt(e)&&xt(e,s,a)}static sanitizePresetName(e){return qe(e)}static createPreset(e,s="",a=[]){let o=this.sanitizePresetName(e);if(!o)throw new Error("Preset name cannot be empty");let n=Ke(o),i=1;for(;!this.validatePresetId(n,a);)n=`${Ke(o)}-${i}`,i++;return{id:n,name:o,author:s.trim(),version:"1.0.0",light:{base:{h:210,s:2,l:96},accent:{h:200,s:80,l:50},colors:{}},dark:{base:{h:210,s:2,l:13},accent:{h:200,s:80,l:50},colors:{}}}}static updatePreset(e,s,a){let o=a.find(i=>i.id===e);if(!o)throw new Error(`Preset with ID "${e}" not found`);let n=le(le({},o),s);if(s.id&&s.id!==e&&!this.validatePresetId(s.id,a,e))throw new Error(`Preset ID "${s.id}" is invalid or already exists`);if(s.name&&(n.name=this.sanitizePresetName(s.name),!n.name))throw new Error("Preset name cannot be empty");return n}static deletePreset(e,s){return s.filter(a=>a.id!==e)}static exportPresetAsJSON(e){return JSON.stringify(e,null,2)}static importPresetFromJSON(e){try{let s=JSON.parse(e);if(!s.id||!s.name||!s.light||!s.dark)throw new Error("Invalid preset format: missing required fields");if(!s.light.base||!s.light.accent||!s.dark.base||!s.dark.accent)throw new Error("Invalid preset format: missing base or accent colors");let a=n=>n&&typeof n.h=="number"&&n.h>=0&&n.h<=360&&typeof n.s=="number"&&n.s>=0&&n.s<=100&&typeof n.l=="number"&&n.l>=0&&n.l<=100;if(!a(s.light.base)||!a(s.light.accent)||!a(s.dark.base)||!a(s.dark.accent))throw new Error("Invalid preset format: HSL values out of range");let o={id:this.sanitizePresetName(s.id),name:this.sanitizePresetName(s.name),author:s.author||"",version:s.version||"1.0.0",light:{base:s.light.base,accent:s.light.accent,colors:s.light.colors||{},frameLightnessOffset:s.light.frameLightnessOffset},dark:{base:s.dark.base,accent:s.dark.accent,colors:s.dark.colors||{},frameLightnessOffset:s.dark.frameLightnessOffset}};if(!o.id||!o.name)throw new Error("Invalid preset format: ID or name is empty after sanitization");return o}catch(s){throw s instanceof SyntaxError?new Error("Invalid JSON format"):s}}static getPresetById(e,s){return s.find(a=>a.id===e)}static isPresetActive(e,s,a){return s===`minimal-custom-${e}`||a===`minimal-custom-${e}`}static generatePresetPreview(e){var s,a,o,n;return{light:[S(e.light.base),S(e.light.accent),((s=e.light.colors)==null?void 0:s.bg1)||S(e.light.base),((a=e.light.colors)==null?void 0:a.tx1)||S(Fe(le({},e.light.base),{l:Math.max(0,e.light.base.l-30)}))],dark:[S(e.dark.base),S(e.dark.accent),((o=e.dark.colors)==null?void 0:o.bg1)||S(e.dark.base),((n=e.dark.colors)==null?void 0:n.tx1)||S(Fe(le({},e.dark.base),{l:Math.min(100,e.dark.base.l+30)}))]}}};var q=W(require("obsidian"));function Pe(t,e){let s=e.base.h,a=e.base.s,o=e.base.l,n=e.accent.h,i=o>50,m={red:"#e74c3c",orange:"#e67e22",yellow:"#f39c12",green:"#27ae60",cyan:"#16a085",blue:"#3498db",purple:"#9b59b6",pink:"#e91e63"};if(m[t])return m[t];let c,l;switch(t){case"bg1":return S({h:s,s:a,l:o});case"bg2":return l=i?Math.max(0,o-5):Math.min(100,o+5),S({h:s,s:a,l});case"bg3":return l=i?Math.max(0,o-10):Math.min(100,o+10),S({h:s,s:a,l});case"ui1":return l=i?Math.max(0,o-15):Math.min(100,o+15),S({h:s,s:a,l});case"ui2":return l=i?Math.max(0,o-10):Math.min(100,o+10),S({h:s,s:a,l});case"ui3":return l=i?Math.max(0,o-5):Math.min(100,o+5),S({h:s,s:a,l});case"tx1":return c=Math.max(0,a-10),l=i?Math.max(0,o-87):Math.min(100,o+77),S({h:s,s:c,l});case"tx2":return c=Math.max(0,a-20),l=i?Math.max(0,o-53):Math.min(100,o+45),S({h:s,s:c,l});case"tx3":return c=Math.max(0,a-10),l=i?Math.max(0,o-78):Math.min(100,o+30),S({h:s,s:c,l});case"tx4":return c=Math.max(0,a-10),l=i?Math.max(0,o-48):Math.min(100,o+40),S({h:s,s:c,l});case"hl1":return S({h:n,s:50,l:40});case"hl2":return"#ffb150";default:return"#000000"}}function Je(t,e,s){let a=t.createEl("div",{cls:"hsl-controls"}),o=le({},e),n=a.createEl("div",{cls:"color-preview-wrapper"}),i=n.createEl("div",{cls:"color-preview"});N(i,"--preview-color",S(o)),i.title="Click to pick a color with hex input";let m=n.createEl("input",{type:"color",cls:"hsl-color-input-overlay"});m.value=S(o);let c=()=>{let C=S(o);N(i,"--preview-color",C),m.value=C};m.onchange=()=>{let C=yt(m.value);o.h=C.h,o.s=C.s,o.l=C.l,g.value=C.h.toString(),h.textContent=C.h.toString(),p.value=C.s.toString(),b.textContent=C.s.toString(),r.value=C.l.toString(),T.textContent=C.l.toString(),c(),s(o)};let l=a.createEl("div",{cls:"hsl-control"});l.createEl("label",{text:"Hue"});let g=l.createEl("input",{type:"range"});g.min="0",g.max="360";let h=l.createEl("span",{text:e.h.toString()});g.value=e.h.toString(),g.oninput=()=>{o.h=parseInt(g.value),h.textContent=o.h.toString(),c(),s(o)};let f=a.createEl("div",{cls:"hsl-control"});f.createEl("label",{text:"Saturation"});let p=f.createEl("input",{type:"range"});p.min="0",p.max="100";let b=f.createEl("span",{text:e.s.toString()});p.value=e.s.toString(),p.oninput=()=>{o.s=parseInt(p.value),b.textContent=o.s.toString(),c(),s(o)};let d=a.createEl("div",{cls:"hsl-control"});d.createEl("label",{text:"Lightness"});let r=d.createEl("input",{type:"range"});r.min="0",r.max="100";let T=d.createEl("span",{text:e.l.toString()});r.value=e.l.toString(),r.oninput=()=>{o.l=parseInt(r.value),T.textContent=o.l.toString(),c(),s(o)}}function je(t,e,s,a,o,n){let i=t.createEl("div",{cls:"color-override collapsible-item"}),m=i.createEl("div",{cls:"override-header"}),c=m.createEl("input",{type:"checkbox"});m.createEl("label",{text:e});let l=m.createEl("div",{cls:"color-input-wrapper"}),g=l.createEl("div",{cls:"color-preview-swatch"}),h=l.createEl("input",{type:"color",cls:"hsl-color-input-overlay"});h.disabled=!0;let f=null,p=b=>{N(g,"--preview-color",b),h.value=b};if(a[s])c.checked=!0,h.disabled=!1,p(a[s]),f=a[s];else{let b=Pe(s,o);p(b),f=b}return h.onclick=()=>{if(!c.checked){c.checked=!0,h.disabled=!1;let b=f||a[s]||Pe(s,o);a[s]=b,p(b),f=b,n()}},c.onchange=()=>{if(c.checked){h.disabled=!1;let b=f||a[s]||Pe(s,o);a[s]=b,p(b),f=b}else h.disabled=!0,f=a[s]||f,delete a[s];n()},h.onchange=()=>{Ye(h.value)&&(a[s]=h.value,f=h.value,p(h.value),n())},h.oninput=()=>{Ye(h.value)&&(a[s]=h.value,f=h.value,p(h.value),n())},i}var we=class extends q.Modal{constructor(e,s,a,o){super(e);this.plugin=s,this.isEditing=a!==null,this.preset=a||this.createDefaultPreset(),this.onSave=o}createDefaultPreset(){return X.createPreset("New Preset","",this.plugin.settings.customPresets)}onOpen(){let{contentEl:e}=this;e.empty(),e.addClass("preset-editor-modal"),e.createEl("div",{cls:"modal-header"}).createEl("h2",{text:this.isEditing?"Edit preset":"Create new preset"});let a=e.createEl("div",{cls:"modal-section"});new q.Setting(a).setName("Preset name").setDesc("A unique name for your color preset").addText(h=>{this.nameInput=h.inputEl,h.setValue(this.preset.name).setPlaceholder("Enter preset name").onChange(f=>{this.preset.name=f,this.updatePreview()})}),new q.Setting(a).setName("Author (optional)").setDesc("Your name or the creator of this preset").addText(h=>{this.authorInput=h.inputEl,h.setValue(this.preset.author||"").setPlaceholder("Enter author name").onChange(f=>{this.preset.author=f})});let o=e.createEl("div",{cls:"modes-container"}),n=o.createEl("div",{cls:"mode-section"});n.createEl("h3",{text:"Light mode"}),this.buildModeContent(n,"light");let i=o.createEl("div",{cls:"mode-section"});i.createEl("h3",{text:"Dark mode"}),this.buildModeContent(i,"dark");let m=e.createEl("div",{cls:"modal-section"});m.createEl("h3",{text:"Preview"}),this.previewSwatch=m.createEl("div",{cls:"preview-swatch"}),this.updatePreview();let c=e.createEl("div",{cls:"modal-footer"}),l=c.createEl("button",{text:"Cancel",cls:"mod-cta"});l.onclick=()=>this.close();let g=c.createEl("button",{text:this.isEditing?"Update":"Create",cls:"mod-cta"});g.onclick=()=>this.savePreset()}buildModeContent(e,s){e.empty();let a=s==="light"?this.preset.light:this.preset.dark,o=e.createEl("div",{cls:"color-section"}),n=s==="light"?"Light theme colors":"Dark theme colors";o.createEl("h3",{text:n});let i=o.createEl("div",{cls:"color-group"});i.createEl("label",{text:"Base color"}),Je(i,a.base,y=>{s==="light"?this.preset.light.base=y:this.preset.dark.base=y,this.updatePreview()});let m=o.createEl("div",{cls:"color-group"});m.createEl("label",{text:"Accent color"}),Je(m,a.accent,y=>{s==="light"?this.preset.light.accent=y:this.preset.dark.accent=y,this.updatePreview()});let c=o.createEl("div",{cls:"color-group"});c.createEl("label",{text:"Colorful frame lightness override (optional)",cls:"frame-label"});let l=c.createEl("div",{cls:"setting-item-description frame-description"});l.textContent=s==="dark"?"Offset from accent lightness for colorful frame. Default: -25 (darkens by 25%). Leave empty for default.":"Offset from accent lightness for colorful frame. Default: +30 (brightens by 30%). Leave empty for default.";let g=c.createEl("input",{type:"number",cls:"frame-input"});g.placeholder=s==="dark"?"-25":"+30",g.min="-100",g.max="100",g.step="5",a.frameLightnessOffset!==void 0&&(g.value=a.frameLightnessOffset.toString()),g.oninput=()=>{let y=g.value.trim();if(y==="")s==="light"?delete this.preset.light.frameLightnessOffset:delete this.preset.dark.frameLightnessOffset;else{let w=parseInt(y);isNaN(w)||(s==="light"?this.preset.light.frameLightnessOffset=w:this.preset.dark.frameLightnessOffset=w)}this.updatePreview()};let h=e.createEl("div",{cls:"color-section"}),f=h.createEl("div",{cls:"collapsible-header"});f.createEl("h4",{text:"Advanced overrides (optional)"});let p=f.createEl("button",{cls:"collapse-toggle"});(0,q.setIcon)(p,"chevron-down"),a.colors||(a.colors={});let b=[],d=["bg1","bg2","bg3","ui1","ui2","ui3","tx1","tx2","tx3","tx4","hl1","hl2"],r=["Background 1","Background 2","Background 3","UI 1","UI 2","UI 3","Text 1","Text 2","Text 3","Text 4","Highlight 1","Highlight 2"],T=a.colors;d.forEach((y,w)=>{let V=je(h,r[w],y,T,a,()=>this.updatePreview());b.push(V),V.addClass("collapsible-content-item")}),p.onclick=()=>{let y=!b[0].classList.contains("expanded");b.forEach(w=>{y?w.addClass("expanded"):w.removeClass("expanded")}),(0,q.setIcon)(p,y?"chevron-up":"chevron-down")};let C=e.createEl("div",{cls:"color-section"}),E=C.createEl("div",{cls:"collapsible-header"});E.createEl("h4",{text:"Syntax colors (optional)"});let x=E.createEl("button",{cls:"collapse-toggle"});(0,q.setIcon)(x,"chevron-down");let $=["red","orange","yellow","green","cyan","blue","purple","pink"],I=[];$.forEach(y=>{let w=je(C,y.charAt(0).toUpperCase()+y.slice(1),y,T,a,()=>this.updatePreview());I.push(w),w.addClass("collapsible-content-item")}),x.onclick=()=>{let y=!I[0].classList.contains("expanded");I.forEach(w=>{y?w.addClass("expanded"):w.removeClass("expanded")}),(0,q.setIcon)(x,y?"chevron-up":"chevron-down")}}updatePreview(){this.previewSwatch.empty();let e=this.plugin.settings.customPresets.findIndex(r=>r.id===this.preset.id);if(e!==-1){this.plugin.settings.customPresets[e]=this.preset;let r=`minimal-custom-${this.preset.id}`;(this.plugin.settings.lightScheme===r||this.plugin.settings.darkScheme===r)&&(this.plugin.updateStyle(),this.plugin.updateCustomPresetCSS())}let s=this.preset.light,a=this.preset.dark,o=S(s.base),n=S(s.accent),i=S(a.base),m=S(a.accent),c=this.previewSwatch.createEl("div",{cls:"preview-row"});c.createEl("div",{text:"Light mode",cls:"preview-label"});let l=c.createEl("div",{cls:"preview-colors"}),g=l.createEl("div",{cls:"preview-color"});g.setAttribute("data-color",o),N(g,"--preview-color",o);let h=l.createEl("div",{cls:"preview-color"});h.setAttribute("data-color",n),N(h,"--preview-color",n);let f=this.previewSwatch.createEl("div",{cls:"preview-row"});f.createEl("div",{text:"Dark mode",cls:"preview-label"});let p=f.createEl("div",{cls:"preview-colors"}),b=p.createEl("div",{cls:"preview-color"});b.setAttribute("data-color",i),N(b,"--preview-color",i);let d=p.createEl("div",{cls:"preview-color"});d.setAttribute("data-color",m),N(d,"--preview-color",m)}savePreset(){try{if(!this.preset.name.trim())throw new Error("Preset name is required");this.isEditing||(this.preset.id=X.createPreset(this.preset.name,this.preset.author||"",this.plugin.settings.customPresets).id),this.onSave(this.preset),this.close()}catch(e){console.error("Error saving preset:",e)}}onClose(){let{contentEl:e}=this;e.empty()}};var Be=W(require("obsidian"));var xe=class extends Be.Modal{constructor(e,s,a){super(e);this.parsedPreset=null;this.plugin=s,this.onImport=a}onOpen(){let{contentEl:e}=this;e.empty(),e.addClass("preset-import-modal"),e.createEl("div",{cls:"modal-header"}).createEl("h2",{text:"Import custom preset"}),e.createEl("div",{cls:"modal-section"}).createEl("p",{text:"Paste a JSON preset below. You can export presets from this plugin or create them manually following the correct format."});let o=e.createEl("div",{cls:"modal-section"});o.createEl("h3",{text:"JSON preset data"}),new Be.Setting(o).setName("Preset JSON").setDesc("Paste the complete JSON preset data here").addTextArea(l=>{this.textArea=l.inputEl,this.textArea.addClass("preset-json-input"),l.setPlaceholder("Paste JSON preset data here...").onChange(g=>this.parseJSON(g))});let n=e.createEl("div",{cls:"modal-section"});n.createEl("h3",{text:"Preview"}),this.previewContainer=n.createEl("div",{cls:"preview-container"}),this.previewContainer.createEl("p",{text:"Enter valid JSON to see a preview of the preset",cls:"preview-placeholder"}),e.createEl("div",{cls:"modal-section error-section hidden"}).createEl("div",{cls:"error-message"});let m=e.createEl("div",{cls:"modal-footer"}),c=m.createEl("button",{text:"Cancel",cls:"mod-cta"});c.onclick=()=>this.close(),this.importButton=m.createEl("button",{text:"Import preset",cls:"mod-cta"}),this.importButton.disabled=!0,this.importButton.onclick=()=>this.importPreset()}parseJSON(e){let s=this.contentEl.querySelector(".error-section"),a=this.contentEl.querySelector(".error-message");if(this.parsedPreset=null,this.importButton.disabled=!0,s.addClass("hidden"),this.previewContainer.empty(),!e.trim()){this.previewContainer.createEl("p",{text:"Enter valid JSON to see a preview of the preset",cls:"preview-placeholder"});return}try{if(this.parsedPreset=X.importPresetFromJSON(e),this.plugin.settings.customPresets.find(n=>n.id===this.parsedPreset.id))throw new Error(`A preset with ID "${this.parsedPreset.id}" already exists. Please rename the preset.`);this.showPreview(this.parsedPreset),this.importButton.disabled=!1}catch(o){a.textContent=o instanceof Error?o.message:"Invalid JSON format",s.removeClass("hidden"),this.previewContainer.createEl("p",{text:"Fix the JSON errors above to see a preview",cls:"preview-error"})}}showPreview(e){this.previewContainer.empty();let s=this.previewContainer.createEl("div",{cls:"preset-info"}),a=s.createEl("div",{cls:"info-row"});if(a.createEl("strong",{text:"Name: "}),a.createEl("span",{text:e.name}),e.author){let D=s.createEl("div",{cls:"info-row"});D.createEl("strong",{text:"Author: "}),D.createEl("span",{text:e.author})}let o=s.createEl("div",{cls:"info-row"});o.createEl("strong",{text:"Version: "}),o.createEl("span",{text:e.version||"1.0.0"});let n=s.createEl("div",{cls:"info-row"});n.createEl("strong",{text:"ID: "}),n.createEl("span",{text:e.id,cls:"preset-id"});let i=this.previewContainer.createEl("div",{cls:"color-preview-section"});i.createEl("h4",{text:"Color preview"});let m=i.createEl("div",{cls:"mode-toggle"}),c=m.createEl("button",{text:"Light mode",cls:"mode-btn active"}),l=m.createEl("button",{text:"Dark mode",cls:"mode-btn"}),g=i.createEl("div",{cls:"swatch-container"}),h=g.createEl("div",{cls:"mode-swatches active"}),f=h.createEl("div",{cls:"color-swatch"}),p=`${e.light.base.h}, ${e.light.base.s}%, ${e.light.base.l}%`;f.setAttribute("data-hsl",p),N(f,"--swatch-hsl",p),f.title=`Base: hsl(${e.light.base.h}, ${e.light.base.s}%, ${e.light.base.l}%)`;let b=h.createEl("div",{cls:"color-swatch"}),d=`${e.light.accent.h}, ${e.light.accent.s}%, ${e.light.accent.l}%`;b.setAttribute("data-hsl",d),N(b,"--swatch-hsl",d),b.title=`Accent: hsl(${e.light.accent.h}, ${e.light.accent.s}%, ${e.light.accent.l}%)`;let r=g.createEl("div",{cls:"mode-swatches"}),T=r.createEl("div",{cls:"color-swatch"}),C=`${e.dark.base.h}, ${e.dark.base.s}%, ${e.dark.base.l}%`;T.setAttribute("data-hsl",C),N(T,"--swatch-hsl",C),T.title=`Base: hsl(${e.dark.base.h}, ${e.dark.base.s}%, ${e.dark.base.l}%)`;let E=r.createEl("div",{cls:"color-swatch"}),x=`${e.dark.accent.h}, ${e.dark.accent.s}%, ${e.dark.accent.l}%`;E.setAttribute("data-hsl",x),N(E,"--swatch-hsl",x),E.title=`Accent: hsl(${e.dark.accent.h}, ${e.dark.accent.s}%, ${e.dark.accent.l}%)`,c.onclick=()=>{c.classList.add("active"),l.classList.remove("active"),h.classList.add("active"),r.classList.remove("active")},l.onclick=()=>{l.classList.add("active"),c.classList.remove("active"),r.classList.add("active"),h.classList.remove("active")};let $=this.previewContainer.createEl("div",{cls:"color-details-section"});$.createEl("h4",{text:"Color values"});let I=$.createEl("div",{cls:"mode-details"});I.createEl("h5",{text:"Light mode"});let y=I.createEl("div",{cls:"color-detail"}),w=y.createEl("div",{cls:"detail-swatch"}),V=`${e.light.base.h}, ${e.light.base.s}%, ${e.light.base.l}%`;w.setAttribute("data-hsl",V),N(w,"--detail-hsl",V),y.createEl("span",{text:"Base: "}),y.createEl("span",{text:`hsl(${e.light.base.h}, ${e.light.base.s}%, ${e.light.base.l}%)`});let K=I.createEl("div",{cls:"color-detail"}),Z=K.createEl("div",{cls:"detail-swatch"}),he=`${e.light.accent.h}, ${e.light.accent.s}%, ${e.light.accent.l}%`;Z.setAttribute("data-hsl",he),N(Z,"--detail-hsl",he),K.createEl("span",{text:"Accent: "}),K.createEl("span",{text:`hsl(${e.light.accent.h}, ${e.light.accent.s}%, ${e.light.accent.l}%)`});let oe=$.createEl("div",{cls:"mode-details"});oe.createEl("h5",{text:"Dark mode"});let ne=oe.createEl("div",{cls:"color-detail"}),ge=ne.createEl("div",{cls:"detail-swatch"}),ue=`${e.dark.base.h}, ${e.dark.base.s}%, ${e.dark.base.l}%`;ge.setAttribute("data-hsl",ue),N(ge,"--detail-hsl",ue),ne.createEl("span",{text:"Base: "}),ne.createEl("span",{text:`hsl(${e.dark.base.h}, ${e.dark.base.s}%, ${e.dark.base.l}%)`});let J=oe.createEl("div",{cls:"color-detail"}),ee=J.createEl("div",{cls:"detail-swatch"}),te=`${e.dark.accent.h}, ${e.dark.accent.s}%, ${e.dark.accent.l}%`;ee.setAttribute("data-hsl",te),N(ee,"--detail-hsl",te),J.createEl("span",{text:"Accent: "}),J.createEl("span",{text:`hsl(${e.dark.accent.h}, ${e.dark.accent.s}%, ${e.dark.accent.l}%)`});let re=Object.keys(e.light.colors||{}).length,se=Object.keys(e.dark.colors||{}).length;(re>0||se>0)&&this.previewContainer.createEl("div",{cls:"overrides-info"}).createEl("p",{text:`Custom overrides: ${re} light mode, ${se} dark mode`})}importPreset(){this.parsedPreset&&(this.onImport(this.parsedPreset),this.close())}onClose(){let{contentEl:e}=this;e.empty()}};var kt=W(require("obsidian")),ke=class extends kt.Modal{constructor(e,s,a,o="Yes",n="Cancel"){super(e);this.title=s,this.message=a,this.confirmText=o,this.cancelText=n}onOpen(){let{contentEl:e}=this;e.empty(),e.createEl("h2",{text:this.title}),e.createEl("p",{text:this.message});let s=e.createDiv("modal-button-container");s.createEl("button",{text:this.cancelText,cls:"mod-cta"}).addEventListener("click",()=>{this.close(),this.resolve(!1)});let o=s.createEl("button",{text:this.confirmText,cls:"mod-cta confirm-button"});o.addEventListener("click",()=>{this.close(),this.resolve(!0)}),o.focus()}onClose(){let{contentEl:e}=this;e.empty()}static show(e,s,a,o="Yes",n="Cancel"){return A(this,null,function*(){return new Promise(i=>{let m=new ke(e,s,a,o,n);m.resolve=i,m.open()})})}};function Tt(t,e,s,a){if(new Te.Setting(t).setName("Enable custom presets").setDesc("Allow creation and use of custom color presets").addToggle(o=>o.setValue(e.settings.enableCustomPresets).onChange(n=>A(this,null,function*(){if(e.settings.enableCustomPresets=n,!n){let i=!1;e.settings.lightScheme.startsWith("minimal-custom-")&&(e.settings.lightScheme="minimal-oxygen-light",i=!0),e.settings.darkScheme.startsWith("minimal-custom-")&&(e.settings.darkScheme="minimal-oxygen-dark",i=!0),i&&(e.updateStyle(),e.updateCustomPresetCSS())}yield e.saveData(e.settings),a()}))),!!e.settings.enableCustomPresets)if(new Te.Setting(t).setName("Create new preset").setDesc("Design a custom color scheme from scratch").addExtraButton(o=>o.setIcon("plus").setTooltip("Create new preset").onClick(()=>Et(s,e,null,a))),new Te.Setting(t).setName("Import preset").setDesc("Import a preset from JSON data").addExtraButton(o=>o.setIcon("download").setTooltip("Import preset").onClick(()=>es(s,e,a))),e.settings.customPresets.length>0){let o=t.createEl("div",{cls:"custom-presets-list"});e.settings.customPresets.sort((n,i)=>n.name.localeCompare(i.name)).forEach(n=>{Zt(o,n,s,e,a)})}else t.createEl("div",{cls:"custom-presets-empty"}).createEl("p",{text:"No custom presets yet. Create your first preset to get started!",cls:"empty-message"})}function Zt(t,e,s,a,o){let n=t.createEl("div",{cls:"custom-preset-item"}),i=n.createEl("div",{cls:"preset-info"}),m=Ct(e);i.appendChild(m);let c=i.createEl("div",{cls:"preset-details"});c.createEl("div",{text:e.name,cls:"preset-name"}),e.author&&c.createEl("div",{text:`by ${e.author}`,cls:"preset-author"}),c.createEl("div",{text:e.id,cls:"preset-id preset-id-display"}),new Te.Setting(n).setName("").setDesc("").addExtraButton(l=>l.setIcon("edit").setTooltip("Edit preset").onClick(()=>Et(s,a,e,o))).addExtraButton(l=>l.setIcon("download").setTooltip("Export preset").onClick(()=>ts(e))).addExtraButton(l=>l.setIcon("trash").setTooltip("Delete preset").onClick(()=>A(this,null,function*(){return yield ss(s,a,e,o)})))}function Et(t,e,s,a){new we(t,e,s,n=>{if(s){let m=e.settings.customPresets.findIndex(c=>c.id===s.id);m!==-1&&(e.settings.customPresets[m]=n)}else e.settings.customPresets.push(n);e.saveData(e.settings);let i=`minimal-custom-${n.id}`;(e.settings.lightScheme===i||e.settings.darkScheme===i)&&(e.updateStyle(),e.updateCustomPresetCSS()),a()}).open()}function es(t,e,s){new xe(t,e,o=>{e.settings.customPresets.push(o),e.saveData(e.settings),s()}).open()}function ts(t){let e=X.exportPresetAsJSON(t),s=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=`${t.id}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}function ss(t,e,s,a){return A(this,null,function*(){if(X.isPresetActive(s.id,e.settings.lightScheme,e.settings.darkScheme)){if(!(yield ke.show(t,"Delete active preset","This preset is currently active. Deleting it will switch to the default scheme. Continue?","Delete")))return;e.settings.lightScheme===`minimal-custom-${s.id}`&&(e.settings.lightScheme="minimal-oxygen-light"),e.settings.darkScheme===`minimal-custom-${s.id}`&&(e.settings.darkScheme="minimal-oxygen-dark")}e.settings.customPresets=e.settings.customPresets.filter(n=>n.id!==s.id),yield e.saveData(e.settings),e.updateStyle(),e.updateCustomPresetCSS(),a()})}var Qe=W(require("obsidian"));function Lt(t,e){t.createEl("br");let a=t.createEl("div",{cls:"setting-item setting-item-heading"}).createEl("div",{cls:"setting-item-info"});a.createEl("div",{text:"Animations",cls:"setting-item-name"}),a.createEl("div",{cls:"setting-item-description"}).appendText("Control animation style and speed throughout the theme.");let n;new Qe.Setting(t).setName("Animation personality").setDesc("Choose the animation style: Default (smooth), Playful (bouncy), or Off (disabled).").addDropdown(i=>i.addOption("default","Default").addOption("playful","Playful").addOption("off","Off").setValue(e.settings.animationPersonality||"default").onChange(m=>{e.settings.animationPersonality=m,e.saveData(e.settings),e.refresh(),n&&(n.settingEl.style.display=m==="off"?"none":"")})),n=new Qe.Setting(t).setName("Animation speed").setDesc("Control the speed of animations. Range: 0 (disabled) to 2 (half speed / slower). Default: 1 (normal speed). Lower values = faster animations, higher values = slower animations.").addSlider(i=>i.setLimits(0,2,.1).setValue(e.settings.animationSpeed).setDynamicTooltip().onChange(m=>{e.settings.animationSpeed=m,e.saveData(e.settings),e.refresh()})),e.settings.animationPersonality==="off"&&(n.settingEl.style.display="none")}var Xe=class extends Dt.PluginSettingTab{constructor(e,s){super(e,s);this.plugin=s}display(){let{containerEl:e}=this;e.empty(),ut(e,this.plugin),Tt(e,this.plugin,this.app,()=>this.display()),bt(e,this.plugin),Lt(e,this.plugin),pt(e,this.plugin),vt(e,this.plugin),St(e,this.plugin)}};var Ze=class{static generateProperties(e,s){let a=s==="light"?e.light:e.dark,o=a.base.h,n=a.base.s,i=a.base.l,m=a.accent.h,c=a.accent.s,l=a.accent.l,g=s==="light",h=i>50,f=`hsl(${o}, ${n}%, ${i}%)`,p=`hsl(${o}, ${n}%, ${h?Math.max(0,i-5):Math.min(100,i+5)}%)`,b=`hsl(${o}, ${n}%, ${h?Math.max(0,i-10):Math.min(100,i+10)}%)`,d=h?Math.max(0,i-15):Math.min(100,i+15),r=h?Math.max(0,i-10):Math.min(100,i+10),T=h?Math.max(0,i-5):Math.min(100,i+5),C=`hsl(${o}, ${n}%, ${d}%)`,E=`hsl(${o}, ${n}%, ${r}%)`,x=`hsl(${o}, ${n}%, ${T}%)`,$=h?15:85,I=h?25:75,y=h?35:65,w=h?30:70,V=`hsl(${o}, ${Math.max(0,n-10)}%, ${$}%)`,K=`hsl(${o}, ${Math.max(0,n-20)}%, ${I}%)`,Z=`hsl(${o}, ${Math.max(0,n-10)}%, ${y}%)`,he=`hsl(${o}, ${Math.max(0,n-10)}%, ${w}%)`,oe=`hsla(${m}, 50%, 40%, 30%)`,ne="rgba(255, 177, 80, 0.3)",ge=g?"white":"black",ue=(O,H,L)=>{O=O/360,H=H/100,L=L/100;let M=(de,Se,_)=>(_<0&&(_+=1),_>1&&(_-=1),_<1/6?de+(Se-de)*6*_:_<1/2?Se:_<2/3?de+(Se-de)*(2/3-_)*6:de);if(H===0)return[L,L,L];let P=L<.5?L*(1+H):L+H-L*H,U=2*L-P,be=M(U,P,O+1/3),ve=M(U,P,O),Ve=M(U,P,O-1/3);return[be,ve,Ve]},[J,ee,te]=ue(m,c,l),se=.2126*(J<=.03928?J/12.92:Math.pow((J+.055)/1.055,2.4))+.7152*(ee<=.03928?ee/12.92:Math.pow((ee+.055)/1.055,2.4))+.0722*(te<=.03928?te/12.92:Math.pow((te+.055)/1.055,2.4))>.5?"black":"white",D={"--base-h":`${o}`,"--base-s":`${n}%`,"--base-l":`${i}%`,"--accent-h":`${m}`,"--accent-s":`${c}%`,"--accent-l":`${l}%`,"--bg1":f,"--bg2":p,"--bg-tab":p,"--bg3":b,"--ui1":C,"--ui2":E,"--ui3":x,"--tx1":V,"--tx2":K,"--tx3":Z,"--tx4":he,"--hl1":oe,"--hl2":ne,"--sp1":ge,"--text-on-accent":se},j=c,z=h?55:65;if(D["--color-red"]=`hsl(0, ${j}%, ${z}%)`,D["--color-orange"]=`hsl(25, ${j}%, ${z}%)`,D["--color-yellow"]=`hsl(50, ${j}%, ${z}%)`,D["--color-green"]=`hsl(130, ${j}%, ${z}%)`,D["--color-cyan"]=`hsl(180, ${j}%, ${z}%)`,D["--color-blue"]=`hsl(220, ${j}%, ${z}%)`,D["--color-purple"]=`hsl(280, ${j}%, ${z}%)`,D["--color-pink"]=`hsl(330, ${j}%, ${z}%)`,a.frameLightnessOffset!==void 0){let O=l+a.frameLightnessOffset;D["--frame-background-l"]=`${O}%`}return a.colors&&["bg1","bg2","bg3","ui1","ui2","ui3","tx1","tx2","tx3","tx4","hl1","hl2","red","orange","yellow","green","cyan","blue","purple","pink"].forEach(H=>{var M;let L=(M=a.colors)==null?void 0:M[H];if(L)switch(H){case"bg1":case"bg2":case"bg3":case"ui1":case"ui2":case"ui3":case"tx1":case"tx2":case"tx3":case"tx4":case"hl1":case"hl2":D[`--${H}`]=L;break;default:D[`--color-${H}`]=L;break}}),D}static generateCSS(e,s){let a=s==="light"?e.light:e.dark,o=s==="light"?"theme-light":"theme-dark",n=`minimal-custom-${e.id}`,i=`.${o}.${n} {
`,m=a.base.h,c=a.base.s,l=a.base.l,g=a.accent.h,h=a.accent.s,f=a.accent.l,p=s==="light",b=l>50,d=`hsl(${m}, ${c}%, ${l}%)`,r=`hsl(${m}, ${c}%, ${b?Math.max(0,l-5):Math.min(100,l+5)}%)`,T=`hsl(${m}, ${c}%, ${b?Math.max(0,l-10):Math.min(100,l+10)}%)`,C=b?Math.max(0,l-15):Math.min(100,l+15),E=b?Math.max(0,l-10):Math.min(100,l+10),x=b?Math.max(0,l-5):Math.min(100,l+5),$=`hsl(${m}, ${c}%, ${C}%)`,I=`hsl(${m}, ${c}%, ${E}%)`,y=`hsl(${m}, ${c}%, ${x}%)`,w=b?15:85,V=b?25:75,K=b?35:65,Z=b?30:70,he=`hsl(${m}, ${Math.max(0,c-10)}%, ${w}%)`,oe=`hsl(${m}, ${Math.max(0,c-20)}%, ${V}%)`,ne=`hsl(${m}, ${Math.max(0,c-10)}%, ${K}%)`,ge=`hsl(${m}, ${Math.max(0,c-10)}%, ${Z}%)`,ue=`hsla(${g}, 50%, 40%, 30%)`,J="rgba(255, 177, 80, 0.3)",ee=p?"white":"black",te=(L,M,P)=>{L=L/360,M=M/100,P=P/100;let U=(_,We,Q)=>(Q<0&&(Q+=1),Q>1&&(Q-=1),Q<1/6?_+(We-_)*6*Q:Q<1/2?We:Q<2/3?_+(We-_)*(2/3-Q)*6:_);if(M===0)return[P,P,P];let be=P<.5?P*(1+M):P+M-P*M,ve=2*P-be,Ve=U(ve,be,L+1/3),de=U(ve,be,L),Se=U(ve,be,L-1/3);return[Ve,de,Se]},[re,se,D]=te(g,h,f),z=.2126*(re<=.03928?re/12.92:Math.pow((re+.055)/1.055,2.4))+.7152*(se<=.03928?se/12.92:Math.pow((se+.055)/1.055,2.4))+.0722*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))>.5?"black":"white";i+=`  --base-h: ${m};
`,i+=`  --base-s: ${c}%;
`,i+=`  --base-l: ${l}%;
`,i+=`
`,i+=`  --accent-h: ${g};
`,i+=`  --accent-s: ${h}%;
`,i+=`  --accent-l: ${f}%;
`,i+=`
`,i+=`  --bg1: ${d};
`,i+=`  --bg2: ${r};
`,i+=`  --bg-tab: ${r};
`,i+=`  --bg3: ${T};
`,i+=`
`,i+=`  --ui1: ${$};
`,i+=`  --ui2: ${I};
`,i+=`  --ui3: ${y};
`,i+=`
`,i+=`  --tx1: ${he};
`,i+=`  --tx2: ${oe};
`,i+=`  --tx3: ${ne};
`,i+=`  --tx4: ${ge};
`,i+=`
`,i+=`  --hl1: ${ue};
`,i+=`  --hl2: ${J};
`,i+=`
`,i+=`  --sp1: ${ee};
`,i+=`
`,i+=`  --text-on-accent: ${z};
`,i+=`
`;let O=h,H=b?55:65;return i+=`  --color-red: hsl(0, ${O}%, ${H}%);
`,i+=`  --color-orange: hsl(25, ${O}%, ${H}%);
`,i+=`  --color-yellow: hsl(50, ${O}%, ${H}%);
`,i+=`  --color-green: hsl(130, ${O}%, ${H}%);
`,i+=`  --color-cyan: hsl(180, ${O}%, ${H}%);
`,i+=`  --color-blue: hsl(220, ${O}%, ${H}%);
`,i+=`  --color-purple: hsl(280, ${O}%, ${H}%);
`,i+=`  --color-pink: hsl(330, ${O}%, ${H}%);
`,i+=`
`,a.frameLightnessOffset!==void 0&&(i+=`  --frame-background-l: ${f+a.frameLightnessOffset}%;
`,i+=`
`),a.colors&&["bg1","bg2","bg3","ui1","ui2","ui3","tx1","tx2","tx3","tx4","hl1","hl2","red","orange","yellow","green","cyan","blue","purple","pink"].forEach(M=>{var U;let P=(U=a.colors)==null?void 0:U[M];if(P)switch(M){case"bg1":case"bg2":case"bg3":case"ui1":case"ui2":case"ui3":case"tx1":case"tx2":case"tx3":case"tx4":case"hl1":case"hl2":i+=`  --${M}: ${P};
`;break;default:i+=`  --color-${M}: ${P};
`;break}}),i+=`}
`,i}};var et=class{constructor(e){this.isUpdating=!1;this.plugin=e}initialize(){!this.plugin.isOxygenThemeActive()||this.updateCSS()}updateCSS(){if(this.isUpdating||!this.plugin.isOxygenThemeActive())return;this.isUpdating=!0,Array.from(document.body.classList).filter(m=>m.startsWith("minimal-custom-")).forEach(m=>document.body.classList.remove(m)),["--base-h","--base-s","--base-l","--accent-h","--accent-s","--accent-l","--bg1","--bg2","--bg-tab","--bg3","--ui1","--ui2","--ui3","--tx1","--tx2","--tx3","--tx4","--hl1","--hl2","--sp1","--text-on-accent","--color-red","--color-orange","--color-yellow","--color-green","--color-cyan","--color-blue","--color-purple","--color-pink","--frame-background-l"].forEach(m=>{document.body.style.removeProperty(m)});let a=this.plugin.settings.customPresets.find(m=>this.plugin.settings.lightScheme===`minimal-custom-${m.id}`),o=this.plugin.settings.customPresets.find(m=>this.plugin.settings.darkScheme===`minimal-custom-${m.id}`),n=document.body.classList.contains("theme-light"),i=n?a:o;if(i){let m=`minimal-custom-${i.id}`;document.body.classList.add(m);let c=n?"light":"dark",l=Ze.generateProperties(i,c);me(document.body,l)}setTimeout(()=>{this.isUpdating=!1},50)}cleanup(){Array.from(document.body.classList).filter(a=>a.startsWith("minimal-custom-")).forEach(a=>document.body.classList.remove(a)),["--base-h","--base-s","--base-l","--accent-h","--accent-s","--accent-l","--bg1","--bg2","--bg-tab","--bg3","--ui1","--ui2","--ui3","--tx1","--tx2","--tx3","--tx4","--hl1","--hl2","--sp1","--text-on-accent","--color-red","--color-orange","--color-yellow","--color-green","--color-cyan","--color-blue","--color-purple","--color-pink","--frame-background-l"].forEach(a=>{document.body.style.removeProperty(a)})}};var tt={PLUGIN_THEME:"minimal-theme",THEME_LIGHT:"theme-light",THEME_DARK:"theme-dark",CUSTOM_PRESETS_STYLE:"minimal-custom-presets",THEME_OVERRIDE:"data-theme-override"},Me=["minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white"],Ne=["minimal-dark","minimal-dark-tonal","minimal-dark-black"],Ee=["minimal-oxygen-light","minimal-minimal-light","minimal-atom-light","minimal-ayu-light","minimal-catppuccin-light","minimal-eink-light","minimal-everforest-light","minimal-flexoki-light","minimal-gruvbox-light","minimal-macos-light","minimal-nord-light","minimal-rose-pine-light","minimal-notion-light","minimal-solarized-light","minimal-things-light"],Le=["minimal-oxygen-dark","minimal-minimal-dark","minimal-atom-dark","minimal-ayu-dark","minimal-catppuccin-dark","minimal-dracula-dark","minimal-eink-dark","minimal-everforest-dark","minimal-flexoki-dark","minimal-gruvbox-dark","minimal-macos-dark","minimal-nord-dark","minimal-rose-pine-dark","minimal-notion-dark","minimal-solarized-dark","minimal-things-dark"];var Oe=["table-100","table-default-width","table-wide","table-max"],Ie=["iframe-100","iframe-default-width","iframe-wide","iframe-max"],Ae=["img-100","img-default-width","img-wide","img-max"],$e=["map-100","map-default-width","map-wide","map-max"],_e=["chart-100","chart-default-width","chart-wide","chart-max"],v={INCREASE_FONT:"increase-body-font-size",DECREASE_FONT:"decrease-body-font-size",CYCLE_DARK_STYLE:"toggle-minimal-dark-cycle",CYCLE_LIGHT_STYLE:"toggle-minimal-light-cycle",TOGGLE_BORDERS:"toggle-hidden-borders",TOGGLE_COLORFUL_HEADINGS:"toggle-colorful-headings",TOGGLE_FOCUS_MODE:"toggle-minimal-focus-mode",TOGGLE_COLORFUL_FRAME:"toggle-minimal-colorful-frame",TOGGLE_IMAGE_GRID:"toggle-minimal-img-grid",TOGGLE_THEME:"toggle-minimal-switch",CYCLE_TABLE_WIDTH:"cycle-minimal-table-width",CYCLE_IMAGE_WIDTH:"cycle-minimal-image-width",CYCLE_IFRAME_WIDTH:"cycle-minimal-iframe-width",CYCLE_CHART_WIDTH:"cycle-minimal-chart-width",CYCLE_MAP_WIDTH:"cycle-minimal-map-width",LIGHT_DEFAULT:"toggle-minimal-light-default",LIGHT_WHITE:"toggle-minimal-light-white",LIGHT_TONAL:"toggle-minimal-light-tonal",LIGHT_CONTRAST:"toggle-minimal-light-contrast",DARK_DEFAULT:"toggle-minimal-dark-default",DARK_TONAL:"toggle-minimal-dark-tonal",DARK_BLACK:"toggle-minimal-dark-black",CREATE_PRESET:"create-custom-preset",IMPORT_PRESET:"import-custom-preset",CYCLE_PRESETS_LIGHT:"cycle-custom-presets-light",CYCLE_PRESETS_DARK:"cycle-custom-presets-dark",DEV_BLOCK_WIDTH:"toggle-minimal-dev-block-width",TOGGLE_TAB_BAR:"toggle-tab-containers",TOGGLE_STATUS_BAR:"toggle-hider-status",OPEN_SETTINGS:"oxygen-settings:open-settings"};var st={FONT_SIZE_NORMAL:16,FONT_SIZE_SMALL:13,LINE_HEIGHT:1.5,LINE_WIDTH:40,LINE_WIDTH_WIDE:50,MAX_WIDTH:88,FONT_STEP:.5},fe={BASE_FONT_SIZE:"baseFontSize",FOLD_HEADING:"foldHeading",SHOW_LINE_NUMBER:"showLineNumber",READABLE_LINE_LENGTH:"readableLineLength",THEME:"theme"},G={LIGHT:"moonstone",DARK:"obsidian",SYSTEM:"system"},Ht="Oxygen";var at={"minimal-oxygen-light":"Oxygen","minimal-minimal-light":"Minimal","minimal-atom-light":"Atom","minimal-ayu-light":"Ayu","minimal-catppuccin-light":"Catppuccin","minimal-eink-light":"E-ink (beta)","minimal-everforest-light":"Everforest","minimal-flexoki-light":"Flexoki","minimal-gruvbox-light":"Gruvbox","minimal-macos-light":"macOS","minimal-nord-light":"Nord","minimal-rose-pine-light":"Ros\xE9 Pine","minimal-notion-light":"Sky","minimal-solarized-light":"Solarized","minimal-things-light":"Things","minimal-oxygen-dark":"Oxygen","minimal-minimal-dark":"Minimal","minimal-atom-dark":"Atom","minimal-ayu-dark":"Ayu","minimal-catppuccin-dark":"Catppuccin","minimal-dracula-dark":"Dracula","minimal-eink-dark":"E-ink (beta)","minimal-everforest-dark":"Everforest","minimal-flexoki-dark":"Flexoki","minimal-gruvbox-dark":"Gruvbox","minimal-macos-dark":"macOS","minimal-nord-dark":"Nord","minimal-rose-pine-dark":"Ros\xE9 Pine","minimal-notion-dark":"Sky","minimal-solarized-dark":"Solarized","minimal-things-dark":"Things"};function k(t,e){return t.vault.getConfig(e)}function B(t,e,s){t.vault.setConfig(e,s)}function R(t,e){t.setTheme(e)}function Pt(t,e){return t.vault.on("config-changed",e)}function Bt(t){let e=t;typeof e.updateFontSize=="function"&&e.updateFontSize()}var it=class{constructor(e){this.cssObserver=null;this.tabObserver=null;this.sidebarObserver=null;this.plugin=e,this.customPresetCSS=new et(e)}initialize(){this.loadRules(),this.plugin.settings.autoHideTabBarWhenSingleTab&&this.setupTabObserver()}initializeCustomPresets(){this.customPresetCSS.initialize()}cleanup(){this.unloadRules(),this.removeStyle(),this.removeSettings(),this.removeLightScheme(),this.removeDarkScheme(),this.customPresetCSS.cleanup(),this.cssObserver&&(this.cssObserver.disconnect(),this.cssObserver=null),this.cleanupTabObserver()}refresh(){!this.plugin.isOxygenThemeActive()||this.updateStyle()}updateCustomPresetCSS(){this.customPresetCSS.updateCSS()}updateStyle(){var l,g;if(!this.plugin.isOxygenThemeActive())return;this.removeStyle(),this.removeSettings(),this.plugin.settings.lightStyle&&this.plugin.settings.lightStyle.trim()&&document.body.addClass(this.plugin.settings.lightStyle),this.plugin.settings.darkStyle&&this.plugin.settings.darkStyle.trim()&&document.body.addClass(this.plugin.settings.darkStyle);try{document.body.classList.contains("theme-light")?this.updateLightScheme():document.body.classList.contains("theme-dark")?this.updateDarkScheme():(document.body.addClass("theme-light"),this.updateLightScheme())}catch(h){console.error("Error updating schemes:",h)}let e=this.plugin.settings.workspaceBorders;e==="enhanced"?document.body.classList.remove("borders-none","borders-on"):e==="default"?(document.body.classList.remove("borders-none"),document.body.classList.add("borders-on")):e==="none"&&(document.body.classList.remove("borders-on"),document.body.classList.add("borders-none")),document.body.classList.toggle("colorful-headings",this.plugin.settings.colorfulHeadings),document.body.classList.toggle("colorful-frame",this.plugin.settings.colorfulFrame),document.body.classList.toggle("colorful-active",this.plugin.settings.colorfulActiveStates),document.body.classList.toggle("minimal-focus-mode",this.plugin.settings.focusMode),document.body.classList.toggle("links-int-on",this.plugin.settings.underlineInternal),document.body.classList.toggle("links-ext-on",this.plugin.settings.underlineExternal),document.body.classList.toggle("full-width-media",this.plugin.settings.fullWidthMedia),document.body.classList.toggle("img-grid",this.plugin.settings.imgGrid),document.body.classList.toggle("minimal-dev-block-width",this.plugin.settings.devBlockWidth),document.body.classList.toggle("minimal-status-off",!this.plugin.settings.minimalStatus),document.body.classList.toggle("full-file-names",!this.plugin.settings.trimNames),document.body.classList.toggle("labeled-nav",this.plugin.settings.labeledNav),document.body.classList.toggle("minimal-folding",this.plugin.settings.folding),document.body.classList.toggle("hider-status",this.plugin.settings.hideStatus),document.body.classList.toggle("hider-tabs",this.plugin.settings.hideTabs),document.body.classList.toggle("hider-scroll",this.plugin.settings.hideScroll);let s=(l=this.plugin.settings.hideLeftSidebarButton)!=null?l:this.plugin.settings.hideSidebarButtons,a=(g=this.plugin.settings.hideRightSidebarButton)!=null?g:this.plugin.settings.hideSidebarButtons;document.body.classList.toggle("hider-sidebar-buttons",this.plugin.settings.hideSidebarButtons),document.body.classList.toggle("hider-left-sidebar-button",s),document.body.classList.toggle("hider-right-sidebar-button",a),document.body.classList.toggle("hider-tooltips",this.plugin.settings.hideTooltips),document.body.classList.toggle("hider-search-suggestions",this.plugin.settings.hideSearchSuggestions),document.body.classList.toggle("hider-file-nav-header",this.plugin.settings.hideFileNavButtons),document.body.classList.toggle("hider-search-counts",this.plugin.settings.hideSearchCounts),document.body.classList.toggle("hider-instructions",this.plugin.settings.hideInstructions),document.body.classList.toggle("hider-meta",this.plugin.settings.hidePropertiesReading),document.body.classList.toggle("hider-vault",this.plugin.settings.hideVault),document.body.classList.toggle("metadata-heading-off",this.plugin.settings.hidePropertiesHeading),document.body.classList.toggle("metadata-add-property-off",this.plugin.settings.hideAddPropertyButton),document.body.classList.toggle("deemphasize-properties",this.plugin.settings.deemphasizeProperties),document.body.classList.toggle("auto-hide-vault-switcher",this.plugin.settings.autoHideVaultSwitcher),document.body.style.setProperty("--auto-hide-vault-switcher-bg-transparency",this.plugin.settings.autoHideVaultSwitcherBgTransparency.toString()),this.plugin.settings.autoHideVaultSwitcherBgTransparency>=1?document.body.style.setProperty("--auto-hide-vault-switcher-mask","none"):document.body.style.setProperty("--auto-hide-vault-switcher-mask","linear-gradient(to top, hsl(0, 0%, 0%) 0%, hsla(0, 0%, 0%, 0.99) 18.4%, hsla(0, 0%, 0%, 0.963) 33.7%, hsla(0, 0%, 0%, 0.92) 46.4%, hsla(0, 0%, 0%, 0.864) 56.7%, hsla(0, 0%, 0%, 0.796) 64.8%, hsla(0, 0%, 0%, 0.72) 71.2%, hsla(0, 0%, 0%, 0.637) 76.1%, hsla(0, 0%, 0%, 0.55) 79.9%, hsla(0, 0%, 0%, 0.46) 82.8%, hsla(0, 0%, 0%, 0.37) 85.2%, hsla(0, 0%, 0%, 0.283) 87.3%, hsla(0, 0%, 0%, 0.2) 89.6%, hsla(0, 0%, 0%, 0.124) 92.3%, hsla(0, 0%, 0%, 0.056) 95.6%, hsla(0, 0%, 0%, 0) 100%)"),document.body.classList.toggle("auto-hide-settings-button",this.plugin.settings.autoHideSettingsButton),document.body.classList.toggle("hider-help-button",this.plugin.settings.hideHelpButton),document.body.classList.toggle("auto-hide-file-explorer-nav-header",this.plugin.settings.autoHideFileExplorerNavHeader),document.body.classList.toggle("auto-hide-other-nav-headers",this.plugin.settings.autoHideOtherNavHeaders),document.body.classList.toggle("auto-hide-left-tab-headers",this.plugin.settings.autoHideLeftTabHeaders),document.body.classList.toggle("auto-hide-right-tab-headers",this.plugin.settings.autoHideRightTabHeaders),document.body.classList.toggle("auto-collapse-ribbon",this.plugin.settings.autoCollapseRibbon),document.body.classList.toggle("collapse-other-nav-headers",this.plugin.settings.collapseOtherNavHeaders),document.body.classList.toggle("auto-hide-tab-bar-when-single-tab",this.plugin.settings.autoHideTabBarWhenSingleTab),this.plugin.settings.autoHideTabBarWhenSingleTab?this.setupTabObserver():this.cleanupTabObserver(),document.body.classList.toggle("hide-tab-list-icon",this.plugin.settings.hideTabListIcon),document.body.classList.toggle("hide-new-tab-icon",this.plugin.settings.hideNewTabIcon),document.body.classList.toggle("hide-tab-close-button",this.plugin.settings.hideTabCloseButton),document.body.classList.toggle("hide-button-new-note",this.plugin.settings.hideButtonNewNote),document.body.classList.toggle("hide-button-new-folder",this.plugin.settings.hideButtonNewFolder),document.body.classList.toggle("hide-button-sort-order",this.plugin.settings.hideButtonSortOrder),document.body.classList.toggle("hide-button-auto-reveal",this.plugin.settings.hideButtonAutoReveal),document.body.classList.toggle("hide-button-collapse-all",this.plugin.settings.hideButtonCollapseAll),document.body.classList.toggle("hide-button-reading-mode",this.plugin.settings.hideButtonReadingMode),document.body.classList.toggle("hide-button-search-settings",this.plugin.settings.hideButtonSearchSettings),document.body.classList.toggle("hide-icon-mobile-chevrons",this.plugin.settings.hideIconMobileChevrons),document.body.classList.toggle("hide-button-mobile-navbar-action-back",this.plugin.settings.hideButtonMobileNavbarActionBack),document.body.classList.toggle("hide-button-mobile-navbar-action-forward",this.plugin.settings.hideButtonMobileNavbarActionForward),document.body.classList.toggle("hide-button-mobile-navbar-action-quick-switcher",this.plugin.settings.hideButtonMobileNavbarActionQuickSwitcher),document.body.classList.toggle("hide-button-mobile-navbar-action-new-tab",this.plugin.settings.hideButtonMobileNavbarActionNewTab),document.body.classList.toggle("hide-button-mobile-navbar-action-tabs",this.plugin.settings.hideButtonMobileNavbarActionTabs),document.body.classList.toggle("hide-button-mobile-navbar-action-menu",this.plugin.settings.hideButtonMobileNavbarActionMenu),document.body.classList.toggle("swap-mobile-new-tab-icon",this.plugin.settings.swapMobileNewTabIcon),Array.from(document.body.classList).filter(h=>h.startsWith("order-navbar-button-nth-child-")).forEach(h=>document.body.classList.remove(h)),document.body.classList.add(this.plugin.settings.orderNavbarButton1),document.body.classList.add(this.plugin.settings.orderNavbarButton2),document.body.classList.add(this.plugin.settings.orderNavbarButton3),document.body.classList.add(this.plugin.settings.orderNavbarButton4),document.body.classList.add(this.plugin.settings.orderNavbarButton5),document.body.classList.add(this.plugin.settings.orderNavbarButton6),document.body.addClass(this.plugin.settings.chartWidth,this.plugin.settings.tableWidth,this.plugin.settings.imgWidth,this.plugin.settings.iframeWidth,this.plugin.settings.mapWidth);let n={"--font-ui-small":`${this.plugin.settings.textSmall}px`,"--line-height":String(this.plugin.settings.lineHeight),"--line-width":`${this.plugin.settings.lineWidth}rem`,"--line-width-wide":`${this.plugin.settings.lineWidthWide}rem`,"--max-width":`${this.plugin.settings.maxWidth}%`,"--font-editor-override":this.plugin.settings.editorFont},i=this.plugin.settings.navIndentationGuideWidth==="0px",m=this.plugin.settings.navIndentationGuideColor==="rgba(var(--mono-rgb-100), 0.12)";i?document.body.style.removeProperty("--nav-indentation-guide-width"):n["--nav-indentation-guide-width"]=this.plugin.settings.navIndentationGuideWidth,m?document.body.style.removeProperty("--nav-indentation-guide-color"):n["--nav-indentation-guide-color"]=this.plugin.settings.navIndentationGuideColor,me(document.body,n),this.plugin.settings.hideTitleBarOnHover?(document.body.style.removeProperty("--title-bar-always-visible"),document.body.classList.remove("always-show-title-bar")):(me(document.body,{"--title-bar-always-visible":"1"}),document.body.classList.add("always-show-title-bar")),document.body.classList.remove("animations-refined","animations-default","animations-playful","animations-off");let c=this.plugin.settings.animationPersonality||"default";c==="off"?(document.body.classList.add("animations-off"),document.body.style.removeProperty("--anim-speed-modifier")):c==="playful"?(document.body.classList.add("animations-playful"),document.body.style.setProperty("--anim-speed-modifier",this.plugin.settings.animationSpeed.toString())):(document.body.classList.add("animations-default"),document.body.style.setProperty("--anim-speed-modifier",this.plugin.settings.animationSpeed.toString())),this.customPresetCSS.updateCSS()}updateLightStyle(){if(!this.plugin.isOxygenThemeActive())return;document.body.removeClass("theme-dark","minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white"),document.body.addClass("theme-light",this.plugin.settings.lightStyle),k(this.plugin.app,"theme")!=="system"&&(R(this.plugin.app,"moonstone"),B(this.plugin.app,"theme","moonstone")),this.plugin.app.workspace.trigger("css-change")}updateDarkStyle(){if(!this.plugin.isOxygenThemeActive())return;document.body.removeClass("theme-light","minimal-dark","minimal-dark-tonal","minimal-dark-black"),document.body.addClass("theme-dark",this.plugin.settings.darkStyle),k(this.plugin.app,"theme")!=="system"&&(R(this.plugin.app,"obsidian"),B(this.plugin.app,"theme","obsidian")),this.plugin.app.workspace.trigger("css-change")}updateLightScheme(){!this.plugin.isOxygenThemeActive()||(this.removeLightScheme(),this.removeDarkScheme(),document.body.classList.contains("theme-light")||(document.body.removeClass("theme-dark"),document.body.addClass("theme-light")),this.plugin.settings.lightScheme&&this.plugin.settings.lightScheme.trim()&&document.body.addClass(this.plugin.settings.lightScheme))}updateDarkScheme(){!this.plugin.isOxygenThemeActive()||(this.removeDarkScheme(),this.removeLightScheme(),document.body.classList.contains("theme-dark")||(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")),this.plugin.settings.darkScheme&&this.plugin.settings.darkScheme.trim()&&document.body.addClass(this.plugin.settings.darkScheme))}removeStyle(){document.body.removeClass("minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white","minimal-dark","minimal-dark-tonal","minimal-dark-black")}removeLightScheme(){document.body.removeClass(...Ee),this.plugin.settings.customPresets.forEach(e=>{document.body.removeClass(`minimal-custom-${e.id}`)})}removeDarkScheme(){document.body.removeClass(...Le),this.plugin.settings.customPresets.forEach(e=>{document.body.removeClass(`minimal-custom-${e.id}`)})}removeSettings(){document.body.removeClass("borders-none","borders-on","colorful-headings","colorful-frame","colorful-active","minimal-focus-mode","links-int-on","links-ext-on","full-width-media","img-grid","minimal-dev-block-width","minimal-status-off","full-file-names","labeled-nav","minimal-folding","hider-status","hider-tabs","hider-scroll","hider-sidebar-buttons","hider-left-sidebar-button","hider-right-sidebar-button","hider-tooltips","hider-search-suggestions","hider-file-nav-header","hider-search-counts","hider-instructions","hider-meta","hider-vault","metadata-heading-off","metadata-add-property-off","deemphasize-properties","auto-hide-vault-switcher","auto-hide-settings-button","hider-help-button","auto-hide-file-explorer-nav-header","auto-hide-other-nav-headers","auto-hide-left-tab-headers","auto-hide-right-tab-headers","auto-collapse-ribbon","collapse-other-nav-headers","auto-hide-tab-bar-when-single-tab","animations-refined","animations-default","animations-playful","animations-off","table-wide","table-max","table-100","table-default-width","iframe-wide","iframe-max","iframe-100","iframe-default-width","img-wide","img-max","img-100","img-default-width","chart-wide","chart-max","chart-100","chart-default-width","map-wide","map-max","map-100","map-default-width")}loadRules(){!this.plugin.isOxygenThemeActive()||(document.body.classList.add(tt.PLUGIN_THEME),this.updateStyle())}unloadRules(){document.body.style.removeProperty("--font-ui-small"),document.body.style.removeProperty("--line-height"),document.body.style.removeProperty("--line-width"),document.body.style.removeProperty("--line-width-wide"),document.body.style.removeProperty("--max-width"),document.body.style.removeProperty("--font-editor-override"),document.body.style.removeProperty("--nav-indentation-guide-width"),document.body.style.removeProperty("--nav-indentation-guide-color"),document.body.style.removeProperty("--anim-speed-modifier"),document.body.classList.remove(tt.PLUGIN_THEME),document.body.classList.remove("always-show-title-bar")}setupCSSWatcher(){}setupTabObserver(){if(this.tabObserver)return;let e=()=>{document.querySelectorAll(".mod-root").forEach(c=>{let l=c.querySelector(".workspace-tabs:not(.mod-stacked)");if(l){let h=l.querySelectorAll(".workspace-tab-header").length===1,f=document.querySelector(".workspace-split.mod-left-split")||document.querySelector(".mod-left-split"),p=document.querySelector(".workspace-split.mod-right-split")||document.querySelector(".mod-right-split"),b=f?f.classList.contains("is-sidedock-collapsed"):!1,d=p?p.classList.contains("is-sidedock-collapsed"):!1,r=this.plugin.app.workspace.leftSplit,T=this.plugin.app.workspace.rightSplit,C=r.collapsed,E=T.collapsed,x=w=>w?w.getBoundingClientRect().width:0,$=x(f),I=x(p);c.querySelectorAll(".view-header .view-actions").forEach(w=>{let V=w,K=V.style.getPropertyValue("display"),Z=V.style.getPropertyPriority("display");K==="none"&&Z==="important"&&V.style.removeProperty("display")}),c.classList.remove("has-single-tab","has-single-tab-left-collapsed","has-single-tab-right-collapsed"),h&&(c.classList.add("has-single-tab"),b&&c.classList.add("has-single-tab-left-collapsed"),d&&c.classList.add("has-single-tab-right-collapsed"))}})},s=null,a=()=>{s&&clearTimeout(s),s=window.setTimeout(()=>{e(),s=null},150)};setTimeout(e,100),this.tabObserver=new MutationObserver(()=>{a()});let o=document.querySelector(".workspace");o&&this.tabObserver.observe(o,{childList:!0,subtree:!0}),this.plugin.registerEvent(this.plugin.app.workspace.on("layout-change",()=>{a()}));let n=document.querySelector(".workspace-split.mod-left-split"),i=document.querySelector(".workspace-split.mod-right-split");n&&(this.sidebarObserver=new MutationObserver(m=>{let c=!1;m.forEach(l=>{l.type==="attributes"&&l.attributeName==="class"&&(c=!0)}),c&&a()}),this.sidebarObserver.observe(n,{attributes:!0,attributeFilter:["class"]}),i&&i!==n&&this.sidebarObserver.observe(i,{attributes:!0,attributeFilter:["class"]}))}cleanupTabObserver(){this.tabObserver&&(this.tabObserver.disconnect(),this.tabObserver=null),this.sidebarObserver&&(this.sidebarObserver.disconnect(),this.sidebarObserver=null),document.querySelectorAll(".mod-root").forEach(e=>{e.classList.remove("has-single-tab","has-single-tab-left-collapsed","has-single-tab-right-collapsed")})}};var ot=class{constructor(e){this.plugin=e}updateTheme(){if(k(this.plugin.app,"theme")===G.SYSTEM)document.body.classList.contains("theme-light")?(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")):(document.body.removeClass("theme-dark"),document.body.addClass("theme-light"));else{document.body.classList.contains("theme-light")?(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")):(document.body.removeClass("theme-dark"),document.body.addClass("theme-light"));let a=k(this.plugin.app,"theme")===G.LIGHT?G.DARK:G.LIGHT;R(this.plugin.app,a),B(this.plugin.app,"theme",a)}this.plugin.app.workspace.trigger("css-change")}switchToLight(){document.body.removeClass("theme-dark"),document.body.addClass("theme-light"),k(this.plugin.app,"theme")!==G.SYSTEM&&(R(this.plugin.app,G.LIGHT),B(this.plugin.app,"theme",G.LIGHT)),this.plugin.app.workspace.trigger("css-change")}switchToDark(){document.body.removeClass("theme-light"),document.body.addClass("theme-dark"),k(this.plugin.app,"theme")!==G.SYSTEM&&(R(this.plugin.app,G.DARK),B(this.plugin.app,"theme",G.DARK)),this.plugin.app.workspace.trigger("css-change")}getCurrentMode(){return document.body.classList.contains("theme-light")?"light":"dark"}updateSidebarTheme(){if(!this.plugin.isOxygenThemeActive())return;let e=document.getElementsByClassName("mod-left-split")[0],s=document.getElementsByClassName("side-dock-ribbon")[0];e&&s&&document.body.classList.contains("theme-light")&&this.plugin.settings.lightStyle==="minimal-light-contrast"?(e.addClass("theme-dark"),s.addClass("theme-dark")):e&&s&&(e.removeClass("theme-dark"),s.removeClass("theme-dark"))}cleanupSidebarTheme(){let e=document.getElementsByClassName("mod-left-split")[0];e&&e.removeClass("theme-dark");let s=document.getElementsByClassName("side-dock-ribbon")[0];s&&s.removeClass("theme-dark")}};var nt=class{constructor(e){this.plugin=e}setupWatchers(){this.plugin.registerEvent(Pt(this.plugin.app,()=>{this.syncFromVault()})),this.plugin.registerEvent(this.plugin.app.workspace.on("css-change",()=>{this.updateSidebarTheme()}))}syncFromVault(e=!1){let s=k(this.plugin.app,fe.BASE_FONT_SIZE);typeof s=="number"&&(this.plugin.settings.textNormal=s),this.plugin.settings.folding=!!k(this.plugin.app,fe.FOLD_HEADING),this.plugin.settings.lineNumbers=!!k(this.plugin.app,fe.SHOW_LINE_NUMBER),this.plugin.settings.readableLineLength=!!k(this.plugin.app,fe.READABLE_LINE_LENGTH);let a=document.body.classList;a.toggle("minimal-folding",this.plugin.settings.folding),a.toggle("minimal-line-nums",this.plugin.settings.lineNumbers),a.toggle("minimal-readable",this.plugin.settings.readableLineLength),a.toggle("minimal-readable-off",!this.plugin.settings.readableLineLength),e||this.plugin.saveData(this.plugin.settings)}setFontSize(){B(this.plugin.app,fe.BASE_FONT_SIZE,this.plugin.settings.textNormal),Bt(this.plugin.app)}updateSidebarTheme(){let e=document.getElementsByClassName("mod-left-split")[0],s=document.getElementsByClassName("side-dock-ribbon")[0];e&&s&&document.body.classList.contains("theme-light")&&this.plugin.settings.lightStyle==="minimal-light-contrast"?(e.addClass("theme-dark"),s.addClass("theme-dark")):e&&s&&(e.removeClass("theme-dark"),s.removeClass("theme-dark"))}cleanup(){}};function Mt(t){t.addCommand({id:v.INCREASE_FONT,name:"Increase body font size",callback:()=>{t.settings.textNormal+=st.FONT_STEP,t.saveData(t.settings),Nt(t)}}),t.addCommand({id:v.DECREASE_FONT,name:"Decrease body font size",callback:()=>{t.settings.textNormal-=st.FONT_STEP,t.saveData(t.settings),Nt(t)}})}function Nt(t){B(t.app,"baseFontSize",t.settings.textNormal),t.app.updateFontSize()}function Ot(t){Ee.forEach(e=>{let s=at[e]||e;t.addCommand({id:`toggle-${e}`,name:`Switch light color scheme to ${s} (light)`,callback:()=>{t.settings.lightScheme=e,t.saveData(t.settings),rt(t),as(t)}})}),Le.forEach(e=>{let s=at[e]||e;t.addCommand({id:`toggle-${e}`,name:`Switch dark color scheme to ${s} (dark)`,callback:()=>{t.settings.darkScheme=e,t.saveData(t.settings),dt(t),is(t)}})})}function rt(t){It(t),At(t),document.body.classList.contains("theme-light")||(document.body.removeClass("theme-dark"),document.body.addClass("theme-light")),document.body.addClass(t.settings.lightScheme)}function dt(t){At(t),It(t),document.body.classList.contains("theme-dark")||(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")),document.body.addClass(t.settings.darkScheme)}function as(t){if(!t.isOxygenThemeActive())return;document.body.removeClass("theme-dark","minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white"),document.body.addClass("theme-light",t.settings.lightStyle),k(t.app,"theme")!=="system"&&(R(t.app,"moonstone"),B(t.app,"theme","moonstone")),t.app.workspace.trigger("css-change")}function is(t){if(!t.isOxygenThemeActive())return;document.body.removeClass("theme-light","minimal-dark","minimal-dark-tonal","minimal-dark-black"),document.body.addClass("theme-dark",t.settings.darkStyle),k(t.app,"theme")!=="system"&&(R(t.app,"obsidian"),B(t.app,"theme","obsidian")),t.app.workspace.trigger("css-change")}function It(t){document.body.removeClass(...Ee),t.settings.customPresets.forEach(e=>{document.body.removeClass(`minimal-custom-${e.id}`)})}function At(t){document.body.removeClass(...Le),t.settings.customPresets.forEach(e=>{document.body.removeClass(`minimal-custom-${e.id}`)})}function $t(t){t.addCommand({id:v.CYCLE_DARK_STYLE,name:"Cycle between dark mode styles",callback:()=>{let s=(Ne.indexOf(t.settings.darkStyle)+1)%Ne.length;t.settings.darkStyle=Ne[s],t.saveData(t.settings),Re(t)}}),t.addCommand({id:v.CYCLE_LIGHT_STYLE,name:"Cycle between light mode styles",callback:()=>{let s=(Me.indexOf(t.settings.lightStyle)+1)%Me.length;t.settings.lightStyle=Me[s],t.saveData(t.settings),De(t)}}),t.addCommand({id:v.LIGHT_DEFAULT,name:"Use light mode (default)",callback:()=>{t.settings.lightStyle="minimal-light",t.settings.lightScheme="minimal-oxygen-light",t.saveData(t.settings),rt(t),De(t)}}),t.addCommand({id:v.LIGHT_WHITE,name:"Use light mode (all white)",callback:()=>{t.settings.lightStyle="minimal-light-white",t.saveData(t.settings),De(t)}}),t.addCommand({id:v.LIGHT_TONAL,name:"Use light mode (low contrast)",callback:()=>{t.settings.lightStyle="minimal-light-tonal",t.saveData(t.settings),De(t)}}),t.addCommand({id:v.LIGHT_CONTRAST,name:"Use light mode (high contrast)",callback:()=>{t.settings.lightStyle="minimal-light-contrast",t.saveData(t.settings),De(t)}}),t.addCommand({id:v.DARK_DEFAULT,name:"Use dark mode (default)",callback:()=>{t.settings.darkStyle="minimal-dark",t.settings.darkScheme="minimal-oxygen-dark",t.saveData(t.settings),dt(t),Re(t)}}),t.addCommand({id:v.DARK_TONAL,name:"Use dark mode (low contrast)",callback:()=>{t.settings.darkStyle="minimal-dark-tonal",t.saveData(t.settings),Re(t)}}),t.addCommand({id:v.DARK_BLACK,name:"Use dark mode (true black)",callback:()=>{t.settings.darkStyle="minimal-dark-black",t.saveData(t.settings),Re(t)}})}function De(t){if(!t.isOxygenThemeActive())return;document.body.removeClass("theme-dark","minimal-light","minimal-light-tonal","minimal-light-contrast","minimal-light-white"),document.body.addClass("theme-light",t.settings.lightStyle),k(t.app,"theme")!=="system"&&(R(t.app,"moonstone"),B(t.app,"theme","moonstone")),t.app.workspace.trigger("css-change")}function Re(t){if(!t.isOxygenThemeActive())return;document.body.removeClass("theme-light","minimal-dark","minimal-dark-tonal","minimal-dark-black"),document.body.addClass("theme-dark",t.settings.darkStyle),k(t.app,"theme")!=="system"&&(R(t.app,"obsidian"),B(t.app,"theme","obsidian")),t.app.workspace.trigger("css-change")}function _t(t){t.addCommand({id:v.CREATE_PRESET,name:"Create custom color preset",callback:()=>{new we(t.app,t,null,s=>{t.settings.customPresets.push(s),t.saveData(t.settings)}).open()}}),t.addCommand({id:v.IMPORT_PRESET,name:"Import custom color preset",callback:()=>{new xe(t.app,t,s=>{t.settings.customPresets.push(s),t.saveData(t.settings)}).open()}}),t.addCommand({id:v.CYCLE_PRESETS_LIGHT,name:"Cycle through custom presets (light mode)",callback:()=>{if(t.settings.customPresets.length===0)return;let s=(t.settings.customPresets.findIndex(o=>t.settings.lightScheme===`minimal-custom-${o.id}`)+1)%t.settings.customPresets.length,a=t.settings.customPresets[s];t.settings.lightScheme=`minimal-custom-${a.id}`,t.saveData(t.settings),os(t)}}),t.addCommand({id:v.CYCLE_PRESETS_DARK,name:"Cycle through custom presets (dark mode)",callback:()=>{if(t.settings.customPresets.length===0)return;let s=(t.settings.customPresets.findIndex(o=>t.settings.darkScheme===`minimal-custom-${o.id}`)+1)%t.settings.customPresets.length,a=t.settings.customPresets[s];t.settings.darkScheme=`minimal-custom-${a.id}`,t.saveData(t.settings),ns(t)}})}function os(t){t.updateLightScheme()}function ns(t){t.updateDarkScheme()}function Rt(t){t.addCommand({id:v.TOGGLE_BORDERS,name:"Toggle sidebar borders",callback:()=>{let e=t.settings.workspaceBorders;e==="enhanced"?t.settings.workspaceBorders="default":e==="default"?t.settings.workspaceBorders="none":t.settings.workspaceBorders="enhanced",t.saveData(t.settings),ie(t)}}),t.addCommand({id:v.TOGGLE_COLORFUL_HEADINGS,name:"Toggle colorful headings",callback:()=>{t.settings.colorfulHeadings=!t.settings.colorfulHeadings,t.saveData(t.settings),ie(t)}}),t.addCommand({id:v.TOGGLE_FOCUS_MODE,name:"Toggle focus mode",callback:()=>{t.settings.focusMode=!t.settings.focusMode,t.saveData(t.settings),ie(t)}}),t.addCommand({id:v.TOGGLE_COLORFUL_FRAME,name:"Toggle colorful window frame",callback:()=>{t.settings.colorfulFrame=!t.settings.colorfulFrame,t.saveData(t.settings),ie(t)}}),t.addCommand({id:v.TOGGLE_IMAGE_GRID,name:"Toggle image grids",callback:()=>{t.settings.imgGrid=!t.settings.imgGrid,t.saveData(t.settings),ie(t)}}),t.addCommand({id:v.TOGGLE_THEME,name:"Switch between light and dark mode",callback:()=>{rs(t)}}),t.addCommand({id:v.DEV_BLOCK_WIDTH,name:"Dev \u2014 show block widths",callback:()=>{t.settings.devBlockWidth=!t.settings.devBlockWidth,t.saveData(t.settings),ie(t)}}),t.addCommand({id:v.TOGGLE_TAB_BAR,name:"Toggle tab bar",callback:()=>{t.settings.hideTabs=!t.settings.hideTabs,t.saveData(t.settings),ie(t)}}),t.addCommand({id:v.TOGGLE_STATUS_BAR,name:"Toggle status bar",callback:()=>{t.settings.hideStatus=!t.settings.hideStatus,t.saveData(t.settings),ie(t)}}),t.addCommand({id:v.OPEN_SETTINGS,name:"Open Oxygen Theme Settings",icon:"settings-2",callback:()=>{t.app.setting.open(),t.app.setting.openTabById(t.manifest.id)}})}function ie(t){t.updateStyle()}function rs(t){if(!t.isOxygenThemeActive())return;if(k(t.app,"theme")==="system")document.body.classList.contains("theme-light")?(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")):(document.body.removeClass("theme-dark"),document.body.addClass("theme-light"));else{document.body.classList.contains("theme-light")?(document.body.removeClass("theme-light"),document.body.addClass("theme-dark")):(document.body.removeClass("theme-dark"),document.body.addClass("theme-light"));let a=k(t.app,"theme")==="moonstone"?"obsidian":"moonstone";R(t.app,a),B(t.app,"theme",a)}t.app.workspace.trigger("css-change")}function Vt(t){t.addCommand({id:v.CYCLE_TABLE_WIDTH,name:"Cycle between table width options",callback:()=>{let s=(Oe.indexOf(t.settings.tableWidth)+1)%Oe.length;t.settings.tableWidth=Oe[s],t.saveData(t.settings),He(t)}}),t.addCommand({id:v.CYCLE_IMAGE_WIDTH,name:"Cycle between image width options",callback:()=>{let s=(Ae.indexOf(t.settings.imgWidth)+1)%Ae.length;t.settings.imgWidth=Ae[s],t.saveData(t.settings),He(t)}}),t.addCommand({id:v.CYCLE_IFRAME_WIDTH,name:"Cycle between iframe width options",callback:()=>{let s=(Ie.indexOf(t.settings.iframeWidth)+1)%Ie.length;t.settings.iframeWidth=Ie[s],t.saveData(t.settings),He(t)}}),t.addCommand({id:v.CYCLE_CHART_WIDTH,name:"Cycle between chart width options",callback:()=>{let s=(_e.indexOf(t.settings.chartWidth)+1)%_e.length;t.settings.chartWidth=_e[s],t.saveData(t.settings),He(t)}}),t.addCommand({id:v.CYCLE_MAP_WIDTH,name:"Cycle between map width options",callback:()=>{let s=($e.indexOf(t.settings.mapWidth)+1)%$e.length;t.settings.mapWidth=$e[s],t.saveData(t.settings),He(t)}})}function He(t){t.updateStyle()}function Wt(t){Mt(t),$t(t),Ot(t),_t(t),Rt(t),Vt(t)}var lt=class extends pe.Plugin{constructor(){super(...arguments);this._isOxygenActive=!1;this._isInitialized=!1}onload(){return A(this,null,function*(){yield this.loadSettings(),this.styleManager=new it(this),this.themeManager=new ot(this),this.settingsSyncManager=new nt(this),this.settingsTab=new Xe(this.app,this),this.addSettingTab(this.settingsTab),this._isOxygenActive=this.checkOxygenTheme();let e=document.body.classList.contains("theme-light")?"light":"dark";this._isOxygenActive&&(this.styleManager.initialize(),this._isInitialized=!0),this.settingsSyncManager.setupWatchers(),this.settingsSyncManager.syncFromVault(!0),this.app.workspace.onLayoutReady(()=>{this._isOxygenActive&&this.themeManager.updateSidebarTheme()}),Wt(this),this.setupHelpButtonReplacement();let s,a=e;this.registerEvent(this.app.workspace.on("css-change",()=>{window.clearTimeout(s),s=window.setTimeout(()=>{let o=this.checkOxygenTheme(),n=document.body.classList.contains("theme-light")?"light":"dark",i=a!==null&&a!==n;a=n,this._isOxygenActive&&!o?(this._isOxygenActive=!1,this._isInitialized=!1,this.styleManager.cleanup()):!this._isOxygenActive&&o&&!this._isInitialized?(this._isOxygenActive=!0,this._isInitialized=!0,this.styleManager.initialize()):this._isOxygenActive&&o&&this._isInitialized&&i&&this.styleManager.updateStyle()},100)}))})}onunload(){this.themeManager.cleanupSidebarTheme(),this.styleManager.cleanup(),this.settingsSyncManager.cleanup(),this.helpButtonObserver&&(this.helpButtonObserver.disconnect(),this.helpButtonObserver=void 0),this.helpButtonStyleEl&&(this.helpButtonStyleEl.remove(),this.helpButtonStyleEl=void 0),this.restoreHelpButton()}loadSettings(){return A(this,null,function*(){let e=yield this.loadData();this.settings=Object.assign({},Ge,e),this.settings.lightScheme==="minimal-default-light"&&(this.settings.lightScheme="minimal-minimal-light"),this.settings.darkScheme==="minimal-default-dark"&&(this.settings.darkScheme="minimal-minimal-dark"),e&&(e.bordersToggle!==void 0||e.workspaceBordersEnhanced!==void 0)&&e.workspaceBorders===void 0&&(e.bordersToggle===!1?this.settings.workspaceBorders="none":e.workspaceBordersEnhanced===!0?this.settings.workspaceBorders="enhanced":this.settings.workspaceBorders="default",yield this.saveData(this.settings)),this.settings.customPresets||(this.settings.customPresets=[]),this.settings.enableCustomPresets===void 0&&(this.settings.enableCustomPresets=!0),e&&e.animationPersonality==="refined"&&(this.settings.animationPersonality="default",yield this.saveData(this.settings)),this.settings.animationPersonality||(this.settings.animationPersonality="default"),e&&e.hideSidebarButtons!==void 0&&e.hideLeftSidebarButton===void 0&&e.hideRightSidebarButton===void 0&&(this.settings.hideLeftSidebarButton=e.hideSidebarButtons,this.settings.hideRightSidebarButton=e.hideSidebarButtons,yield this.saveData(this.settings))})}saveSettings(){return A(this,null,function*(){yield this.saveData(this.settings)})}refresh(){this.styleManager.refresh()}updateStyle(){this.styleManager.updateStyle()}updateLightStyle(){this.styleManager.updateLightStyle()}updateDarkStyle(){this.styleManager.updateDarkStyle()}updateLightScheme(){this.styleManager.updateLightScheme()}updateDarkScheme(){this.styleManager.updateDarkScheme()}updateCustomPresetCSS(){this.styleManager.updateCustomPresetCSS()}setFontSize(){this.settingsSyncManager.setFontSize()}isOxygenThemeActive(){return this._isOxygenActive}checkOxygenTheme(){return k(this.app,"cssTheme")===Ht}setupHelpButtonReplacement(){var s;if(!((s=this.settings.helpButtonReplacement)==null?void 0:s.enabled))return;this.updateHelpButtonCSS();let e=()=>{var a;((a=this.settings.helpButtonReplacement)==null?void 0:a.enabled)&&this.updateHelpButton()};e(),setTimeout(e,500),setTimeout(()=>{this.setupHelpButtonObserver()},1e3)}updateHelpButtonCSS(){var s;this.helpButtonStyleEl&&this.helpButtonStyleEl.remove(),(this.settings.hideHelpButton||((s=this.settings.helpButtonReplacement)==null?void 0:s.enabled))&&(this.helpButtonStyleEl=document.createElement("style"),this.helpButtonStyleEl.id="oxygen-settings-hide-help-button",this.helpButtonStyleEl.textContent=`
        .workspace-drawer-vault-actions .clickable-icon:has(svg.help) {
          display: none !important;
        }
      `,document.head.appendChild(this.helpButtonStyleEl))}updateHelpButton(){return A(this,null,function*(){var e,s,a,o;if(!((e=this.settings.helpButtonReplacement)==null?void 0:e.enabled)){this.restoreHelpButton();return}this.helpButtonObserver&&this.helpButtonObserver.disconnect(),yield this.loadSettings(),this.updateHelpButtonCSS();try{if(!((s=this.settings.helpButtonReplacement)==null?void 0:s.enabled)){this.restoreHelpButton();return}let n=document.querySelector(".workspace-drawer-vault-actions");if(!n)return;let i=Array.from(n.querySelectorAll(".clickable-icon")),m=null;for(let g of i)if(g.querySelector("svg.help")){m=g;break}if(!m)return;this.helpButtonElement=m,this.customHelpButton&&this.customHelpButton.parentElement&&document.body.contains(this.customHelpButton)&&this.customHelpButton.remove(),this.customHelpButton=void 0;let c=m.cloneNode(!0);c.style.display="",c.removeAttribute("aria-label"),c.setAttribute("data-oxygen-settings-help-replacement","true"),c.classList.add("oxygen-settings-help-replacement"),c.onclick=null;let l=((a=c.querySelector("svg"))==null?void 0:a.parentElement)||c;try{(0,pe.setIcon)(l,this.settings.helpButtonReplacement.iconId)}catch(g){console.warn("[Oxygen Settings] Error setting icon:",g)}c.addEventListener("click",g=>A(this,null,function*(){var f;g.preventDefault(),g.stopPropagation();let h=(f=this.settings.helpButtonReplacement)==null?void 0:f.commandId;if(h)try{yield this.app.commands.executeCommandById(h)}catch(p){console.warn("[Oxygen Settings] Error executing command:",p),new pe.Notice(`Failed to execute command: ${h}`)}}),!0),(o=m.parentElement)==null||o.insertBefore(c,m.nextSibling),this.customHelpButton=c}finally{setTimeout(()=>{var n;((n=this.settings.helpButtonReplacement)==null?void 0:n.enabled)&&this.setupHelpButtonObserver()},1e3)}})}setupHelpButtonObserver(){var o;if(this.helpButtonObserver&&this.helpButtonObserver.disconnect(),!((o=this.settings.helpButtonReplacement)==null?void 0:o.enabled))return;let e=null;this.helpButtonObserver=new MutationObserver(()=>{e&&clearTimeout(e),e=window.setTimeout(()=>{if(!document.querySelector(".workspace-drawer-vault-actions"))return;this.customHelpButton&&this.customHelpButton.parentElement&&document.body.contains(this.customHelpButton)&&this.customHelpButton.hasAttribute("data-oxygen-settings-help-replacement")||(this.customHelpButton&&!document.body.contains(this.customHelpButton)&&(this.customHelpButton=void 0),this.updateHelpButton())},100)});let s=document.querySelector(".workspace-drawer-vault-actions");s&&this.helpButtonObserver.observe(s,{childList:!0,subtree:!0});let a=document.querySelector(".workspace-sidedock-vault-profile");a&&this.helpButtonObserver.observe(a,{childList:!0,subtree:!1})}restoreHelpButton(){var s,a,o;!(this.settings.hideHelpButton||((s=this.settings.helpButtonReplacement)==null?void 0:s.enabled))&&this.helpButtonStyleEl&&(this.helpButtonStyleEl.remove(),this.helpButtonStyleEl=void 0),!((a=this.settings.helpButtonReplacement)==null?void 0:a.enabled)&&this.customHelpButton&&(document.body.contains(this.customHelpButton)&&this.customHelpButton.remove(),this.customHelpButton=void 0),((o=this.settings.helpButtonReplacement)==null?void 0:o.enabled)||(this.helpButtonElement=void 0)}};
