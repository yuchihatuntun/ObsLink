/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var i=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var F=(n,e)=>{for(var s in e)i(n,s,{get:e[s],enumerable:!0})},f=(n,e,s,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of m(e))!p.call(n,t)&&t!==s&&i(n,t,{get:()=>e[t],enumerable:!(o=g(e,t))||o.enumerable});return n};var x=n=>f(i({},"__esModule",{value:!0}),n);var C={};F(C,{default:()=>L});module.exports=x(C);var h=require("obsidian");var E={focus:"Focus",enterFocus:"Enter focus",exitFocus:"Exit focus"},l=E;var k={focus:"\u4E13\u6CE8",enterFocus:"\u4E13\u6CE8",exitFocus:"\u9000\u51FA\u4E13\u6CE8"},r=k;var y={en:l,zh:r},d=y;var c="plugin-simple-focus-hidden",u=class extends h.Plugin{constructor(s,o){super(s,o);let a=window.localStorage.getItem("language")==="zh"?"zh":"en";this.lang=d[a],this.isFocus=!1}onload(){this.addFileMenuItem(),this.addHotkey()}addHotkey(){this.addCommand({id:"simple-focus-exit-focus",name:this.lang.exitFocus,callback:()=>{this.exitFocus()}}),this.addCommand({id:"simple-focus-enter-focus",name:this.lang.enterFocus,callback:()=>{let s=this.app.workspace.getActiveFile();s!=null&&s.path&&this.enterFocus(s.path)}})}addFileMenuItem(){return new Promise(s=>{this.registerEvent(this.app.workspace.on("file-menu",(o,t)=>{o.addItem(a=>{a.setTitle(this.isFocus?this.lang.exitFocus:this.lang.focus).setIcon(this.isFocus?"log-out":"focus").onClick(async()=>{this.toggleFocus(t==null?void 0:t.path)})}),s(o)}))})}toggleFocus(s){this.isFocus?this.exitFocus():this.enterFocus(s)}enterFocus(s){this.isFocus=!0,document.querySelectorAll(`.tree-item:not(:has([data-path="${s}"]),:has([data-path^="${s}/"]))`).forEach(t=>{t.addClass(c)})}exitFocus(){this.isFocus=!1,document.querySelectorAll(`.${c}`).forEach(o=>{o.removeClass(c)})}},L=u;

/* nosourcemap */